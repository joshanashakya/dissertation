import syslength, ops = map(int, sys.stdin.readline().split())arr = list(map(int, sys.stdin.readline().split()))cnt = 0Â for z in range(ops):    things = list(map(int, sys.stdin.readline().split()))    if things[0] == 1:        arr[things[1] - 1] = things[2] - cnt    elif things[0] == 2:        cnt += things[1]    else:        sys.stdout.write(str(arr[things[1] - 1] + cnt) + '\n')
