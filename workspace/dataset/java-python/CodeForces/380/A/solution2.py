MAX_LEN = int(1e5)n = int(input())a = [list(map(int, input().split())) for i in range(n)]m = int(input())b = list(map(lambda x:int(x)-1, input().split()))curr, k, c, res = 0, 0, [], []for i in range(n):    t = a[i]    last = curr    if t[0] == 1:        curr += 1        if len(c) < MAX_LEN:             c.append(t[1])        if k < m and b[k] == curr-1:             res.append(t[1])            k += 1    else:        curr += t[1] * t[2]        while t[2] > 0 and len(c) < MAX_LEN:             c.extend(c[:t[1]])            t[2] -= 1        while k < m and last <= b[k] < curr:            res.append(c[(b[k] - last) % t[1]])            k += 1print(' '.join(map(str, res[:m])))
