import sys sys.stdin = open('input.txt')sys.stdout = open('output.txt', 'w') [row_num, col_num, query_num] = list(map(int, input().split())) rows = []for r in range(row_num+1):	rows.append((col_num+1)*[None]) location = {} for query_index in range(query_num):	tokens = input().split()	id = tokens.pop()	integers = list(map(int, tokens)) 	if integers[0] == -1:		if id in location:			r, c = location[id]			del location[id]			rows[r][c] = None			print("%d %d" % (r, c))		else:			print("-1 -1") 	else:		r, c = integers[1:3]		while rows[r][c]:			c += 1			if c > col_num:				c = 1				r += 1				if r > row_num:					break		if r <= row_num:			location[id] = [r, c]			rows[r][c] = id 
