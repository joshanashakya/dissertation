f1=open("input.txt","r")f2=open("output.txt","w")n,m,k=map(int,f1.readline().split())a=[0]*n*mb={}for i in range(k):    s=f1.readline().split()    if s[0]=="+1":        y,x,nm=int(s[1])-1,int(s[2])-1,s[3]        ind=y*m+x        while ind<n*m:            if a[ind]==0:                a[ind]=1                b[nm]=ind                break            else:                ind+=1    else:        if s[1] in b:            ind=b[s[1]]            f2.write(str(ind//m+1)+" "+str(ind%m+1)+"\n")            a[ind]=0            del(b[s[1]])        else:            f2.write("-1 -1\n")f1.close()f2.close()    
