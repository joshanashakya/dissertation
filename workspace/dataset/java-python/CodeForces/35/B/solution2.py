import sysfrom array import array  # noqa: F401from itertools import product  def input():    with open('input.txt') as fp:        return fp.readlines()  def output(ans: str):    with open('output.txt', mode='w') as fp:        fp.write(ans)  # def input():#    return [line.decode('utf-8') for line in sys.stdin.buffer.readlines()]  s = input()n, m, k = map(int, s[0].split())a = [[''] * m for _ in range(n)]ans = [] for query in s[1:]:    query = query.split()    if query[0] == '+1':        i, j = int(query[1]) - 1, int(query[2]) - 1        while i < n:            if not a[i][j]:                a[i][j] = query[3]                break            j += 1            if j == m:                i += 1                j = 0    else:        for i, j in product(range(n), range(m)):            if a[i][j] == query[1]:                a[i][j] = ''                ans.append(f'{i+1} {j+1}')                break        else:            ans.append('-1 -1') output('\n'.join(ans))
