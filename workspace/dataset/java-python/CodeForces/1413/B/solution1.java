import java.util.Scanner; public class B1413 {     public static void main(String[] args) {        Scanner in = new Scanner(System.in);        int T = in.nextInt();        StringBuilder output = new StringBuilder();        for (int t=0; t<T; t++) {            int R = in.nextInt();            int C = in.nextInt();            int[][] rows = new int[R][];            int[] rowIndex = new int[R*C+1];            for (int r=0; r<R; r++) {                int[] row = new int[C];                for (int c=0; c<C; c++) {                    int a = in.nextInt();                    row[c] = a;                    rowIndex[a] = r;                }                rows[r] = row;            }            for (int c=0; c<C; c++) {                for (int r=0; r<R; r++) {                    int a = in.nextInt();                    if (c == 0) {                        for (int elem : rows[rowIndex[a]]) {                            output.append(elem).append(' ');                        }                        output.append('\n');                    }                }            }        }        System.out.print(output);    } }
