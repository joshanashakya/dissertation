import java.io.BufferedReader;import java.io.IOException;import java.io.InputStreamReader;import java.util.ArrayList;import java.util.Arrays;import java.util.Collections;import java.util.Comparator;import java.util.HashMap;import java.util.HashSet;import java.util.LinkedList;import java.util.List;import java.util.Map;import java.util.Map.Entry;import java.util.PriorityQueue;import java.util.Queue;import java.util.Scanner;import java.util.Set;import java.util.Stack;import java.util.StringTokenizer;import java.util.TreeMap;import java.util.TreeSet;import java.util.Vector;   public class Codeforces    {		 static class FastReader	    {BufferedReader br; 	        StringTokenizer st; 	 public FastReader() 	        {  br = new BufferedReader(new	                     InputStreamReader(System.in)); 	        } 	  	       String next() 	        { 	            while (st == null || !st.hasMoreElements()) 	            { 	                try	                { 	                    st = new StringTokenizer(br.readLine()); 	                } 	                catch (IOException  e) 	                { 	                    e.printStackTrace(); 	                } 	            } 	            return st.nextToken(); 	        } 	  	        int nextInt() 	        { 	            return Integer.parseInt(next()); 	        } 	  	        long nextLong() 	        { 	            return Long.parseLong(next()); 	        } 	  	        double nextDouble() 	        { 	            return Double.parseDouble(next()); 	        } 	  	        String nextLine() 	        { 	            String str = ""; 	            try	            { 	                str = br.readLine(); 	            } 	            catch (IOException e) 	            { 	                e.printStackTrace(); 	            } 	            return str; 	        } 	    }  				//static long mod=(long) (Math.pow(10, 9)+7);		public static void main(String[] args) {		FastReader s=new FastReader();		int t=s.nextInt();		int count[]=new int[70];		while(t-->0)		{		       		   int n=s.nextInt();		   int m=s.nextInt();		   int[] col=new int[n*m+1];		   int[] row=new int[n*m+1];		   		   for(int i=0;i<n;i++)		   {			   			   for(int j=0;j<m;j++)			   {				   int a=s.nextInt();				   col[a]=j;			   }		   }		   		   for(int i=0;i<m;i++)		   {			   for(int j=0;j<n;j++)			   {				   int a=s.nextInt();				   row[a]=j;			   }		   }			int[][] ans=new int[n][m];						for(int i=0;i<n*m+1;i++)			{				ans[row[i]][col[i]]=i;			}		   			for(int i=0;i<n;i++)			{				for(int j=0;j<m;j++)				{					System.out.print(ans[i][j]+" ");				}				System.out.println();			}								   					   	}				 				 		 		 		   									    	    	    	    		}} 
