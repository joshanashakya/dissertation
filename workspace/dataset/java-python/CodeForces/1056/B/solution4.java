//codeforces_1056B/*	proof:(i²+j²)%m = (i²%m + j²%m)%m = ((i%m)² + (j%m)²)%mso we're looking for pairs (x,y) where x,y < m and (x² + y²)%m = 0--tut*/ import java.io.*;import java.util.*;import java.util.regex.Matcher;import java.util.regex.Pattern;import static java.lang.Math.*;import java.math.*; public class Main{ 	static PrintWriter go = new PrintWriter(System.out); 	public static void main(String args[]) throws IOException,FileNotFoundException {		BufferedReader gi = new BufferedReader(new InputStreamReader(System.in));		int[] l = parseArray(gi);		int n = l[0];		int m = l[1];		long ans = 0;		for ( int k = 0; k < m; k++){			for ( int j = 0; j < m; j++){				if ( (j*j+k*k)%m == 0 ){					/*					a*m+x <= n					a*m <= n-x					a <= (n-x)/m					*/					long temp1 = n/m+1;					if ( (n/m)*m + j > n || j == 0 ){ temp1--; }					long temp2 = n/m+1;					if ( (n/m)*m + k > n || k == 0 ){ temp2--; }					ans += temp1*temp2;				}			}		}		go.println(ans);		go.close();	} 	static int[] parseArray(BufferedReader gi) throws IOException{		String[] line = gi.readLine().trim().split(" ");		int[] rez = new int[line.length];		for ( int k = 0; k < line.length; k++){			rez[k] = Integer.parseInt(line[k]);		}		return rez;	} }
