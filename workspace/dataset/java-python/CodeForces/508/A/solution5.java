// "static void main" must be defined in a public class.import java.util.*;public class Main {    static Scanner scn = new Scanner(System.in);    public static void main(String[] args) {        // System.out.println("Hello World!");        int rows = scn.nextInt();        int cols = scn.nextInt();        int[][] arr = new int[rows][cols];        int q = scn.nextInt();        int cnt  =0;        boolean ans = false;        while(q-- > 0){            cnt++;            int r = scn.nextInt() -1 , c = scn.nextInt()- 1;            if(arr[r][c] == 1){                continue;            }else {                arr[r][c] = 1;                // first                if(r >= 1&& c >= 1){                    if(arr[r-1][c-1] == 1 && arr[r-1][c] == 1 && arr[r][c-1] == 1){                        ans = true;                        break;                    }                }                // second                if(r >= 1 && c < cols - 1){                    if(arr[r-1][c+1] == 1 && arr[r-1][c] == 1 && arr[r][c+1] == 1){                        ans = true;                        break;                    }                }                // third                if(r < rows - 1 && c < cols - 1){                    if(arr[r+1][c+1] == 1 && arr[r+1][c] == 1 && arr[r][c+1] == 1){                        ans = true;                        break;                    }                }                // forth                if(r < rows - 1 && c >= 1){                    if(arr[r+1][c-1] == 1 && arr[r+1][c] == 1 && arr[r][c-1] == 1){                        ans = true;                        break;                    }                }            }                }        if(ans) System.out.println(cnt);        else System.out.println("0");    }}	 				 		 	  	  	 		  				  	 	
