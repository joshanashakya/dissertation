import java.util.Scanner;public class codeforces508A{ 	public static void main(String[] args) 	{ 		Scanner s=new Scanner(System.in);		StringBuilder sb = new StringBuilder();        int i,j,n=s.nextInt(),m=s.nextInt(),k=s.nextInt(),c,l=-1;        int[][] a = new int[n][m];        if(m>1&&n>1)        {            for(c=0;c<k;c++)            {                i=s.nextInt();                j=s.nextInt();                a[i-1][j-1]=1;                if(i==1)                {                    if(j==1)                    {                        if(a[i][j]==1&&a[i-1][j]==1&&a[i][j-1]==1)                        l=c+1;                    }                    else if(j==m)                    {                        if(a[i-1][j-2]==1&&a[i][j-1]==1&&a[i][j-2]==1)                        l=c+1;                    }                    else                    {                        if((a[i][j]==1&&a[i-1][j]==1&&a[i][j-1]==1)||(a[i-1][j-2]==1&&a[i][j-1]==1&&a[i][j-2]==1))                        l=c+1;                    }                }                else if(i==n)                {                    if(j==1)                    {                        if(a[i-2][j]==1&&a[i-1][j]==1&&a[i-2][j-1]==1)                        l=c+1;                    }                    else if(j==m)                    {                        if(a[i-2][j-2]==1&&a[i-1][j-2]==1&&a[i-2][j-1]==1)                        l=c+1;                    }                    else                    {                        if((a[i-2][j]==1&&a[i-1][j]==1&&a[i-2][j-1]==1)||(a[i-2][j-2]==1&&a[i-1][j-2]==1&&a[i-2][j-1]==1))                        l=c+1;                    }                }                else                {                    if(j==1)                    {                        if((a[i-2][j]==1&&a[i-1][j]==1&&a[i-2][j-1]==1)||(a[i][j]==1&&a[i-1][j]==1&&a[i][j-1]==1))                        l=c+1;                    }                    else if(j==m)                    {                        if((a[i-1][j-2]==1&&a[i][j-1]==1&&a[i][j-2]==1)||(a[i-2][j-2]==1&&a[i-1][j-2]==1&&a[i-2][j-1]==1))                        l=c+1;                    }                    else                    {                        if((a[i-2][j]==1&&a[i-1][j]==1&&a[i-2][j-1]==1)||(a[i-2][j-2]==1&&a[i-1][j-2]==1&&a[i-2][j-1]==1)||(a[i][j]==1&&a[i-1][j]==1&&a[i][j-1]==1)||(a[i-1][j-2]==1&&a[i][j-1]==1&&a[i][j-2]==1))                        l=c+1;                    }                }                if(l==c+1)                break;            }            if(l==-1)            sb.append(0);            else            sb.append(l);        }        else        sb.append(0);        System.out.print(sb);    }}
