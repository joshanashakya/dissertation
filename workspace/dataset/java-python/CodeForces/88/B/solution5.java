import java.io.BufferedReader; import java.io.*;import java.io.InputStreamReader; import java.util.Scanner; import java.util.StringTokenizer; import java.util.*;import java.math.*;public class Main {     static class FastReader     {         BufferedReader br;         StringTokenizer st;           public FastReader()         {             br = new BufferedReader(new                     InputStreamReader(System.in));         }           String next()        {             while (st == null || !st.hasMoreElements())             {                 try                {                     st = new StringTokenizer(br.readLine());                 }                 catch (IOException  e)                 {                     e.printStackTrace();                 }             }             return st.nextToken();         }           int nextInt()         {             return Integer.parseInt(next());         }           long nextLong()         {             return Long.parseLong(next());         }           double nextDouble()         {             return Double.parseDouble(next());         }           String nextLine()         {             String str = "";             try            {                 str = br.readLine();            }             catch (IOException e)             {                 e.printStackTrace();             }             return str;         }     }    public static void main(String args[])    {        Scanner sc =new Scanner(System.in);        StringBuffer sb=new StringBuffer();        int t=1;//sc.nextInt();        while(t-->0)        {           int n=sc.nextInt();           int m=sc.nextInt();           double x=sc.nextDouble();           char c[][]=new char[n][m];           List<Integer> l=new ArrayList<>();           String str="";           int f[]=new int[26];           for(int i=0;i<n;i++)           {               String s1=sc.next();               str+=s1;               for(int j=0;j<m;j++)               {               c[i][j]=s1.charAt(j);               if(c[i][j]=='S')               {               l.add(i);l.add(j);               }               }           }           for(int i=0;i<n;i++)           {               for(int j=0;j<m;j++)               {                for(int k=0;k<l.size();k+=2)                {                    double dist=Math.sqrt(Math.pow(l.get(k)-i,2)+Math.pow(l.get(k+1)-j,2));                    if(dist<=x && c[i][j]!='S')                    f[c[i][j]-97]++;                }               }           }           int q=sc.nextInt(),tt=0,count=0;           String st=sc.next();           char ch[]=st.toCharArray();           for(int i=0;i<q;i++)           {               if((ch[i]>=97 && ch[i]<123) && str.indexOf(ch[i])<0)               {                   tt=1;                   System.out.println(-1);                   break;               }               else if(ch[i]>=65 && ch[i]<91)               {                   int index=str.indexOf(ch[i]+32);                   if(index<0 || l.size()==0)                   {                       tt=1;                       System.out.println(-1);                       break;                   }                   else if(f[ch[i]-65]==0)                   count++;               }           }           if(tt==0)           System.out.println(count);        }    }}  
