n, m = list(map(int, input().split()))sheet = []for i in range(n):    sheet.append(input())Â min_row = 101max_row = -1min_col = 101max_col = -1for i in range(n):    for j in range(m):        if sheet[i][j] == 'B':            min_row = min(min_row, i)            max_row = max(max_row, i)            min_col = min(min_col, j)            max_col = max(max_col, j)l = max_row - min_row + 1b = max_col - min_col + 1# print(min_row, max_row)# print(min_col, max_col)if min_row == 101 and max_row == -1 and min_col == 101 and max_col == -1:    print(1)else:    impossible=False    if l < b:        d = b - l        if min_row - d >= 0:            min_row = min_row - d            d = 0        else:            d = d - (min_row - 0)            min_row = 0        if max_row + d < n:            max_row = max_row + d        else:            impossible=True    elif l > b:        d = l - b        if min_col - d >= 0:            min_col = min_col - d            d = 0        else:            d = d - (min_col - 0)            min_col = 0        if max_col + d < m:            max_col = max_col + d        else:            impossible=True    if not impossible:        count = 0        for row in range(min_row, max_row+1):            for col in range(min_col, max_col+1):                if sheet[row][col] == 'W':                    count +=1        print(count)    else:        print("-1")
