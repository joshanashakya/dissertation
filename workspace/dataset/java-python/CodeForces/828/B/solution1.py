n, m = list(map(int, input().split()))sheet = []for i in range(n):    sheet.append(input())Â min_row = 101max_row = -1min_col = 101max_col = -1count_black = 0for i in range(n):    for j in range(m):        if sheet[i][j] == 'B':            count_black += 1            min_row = min(min_row, i)            max_row = max(max_row, i)            min_col = min(min_col, j)            max_col = max(max_col, j)l = max( max_row - min_row + 1, max_col - min_col + 1)if count_black == 0:    print(1)elif l > n or l > m:    print(-1)else:    print(l*l - count_black)
