def main():        t=int(input())    allans=[]    for _ in range(t):        n,m,a,b=readIntArr()        adj=[[] for __ in range(n+1)]        for __ in range(m):            u,v=readIntArr()            adj[u].append(v)            adj[v].append(u)                def reachableFromAWOPassingB(a,b):            st=[a]            reachable=set()            reachable.add(a)            while st:                node=st.pop()                for nex in adj[node]:                    if nex!=b and nex not in reachable:                        reachable.add(nex)                        st.append(nex)            reachable.remove(a)            return reachable        vA=reachableFromAWOPassingB(a,b)        vB=reachableFromAWOPassingB(b,a)                #remove union        unionNodes=[]        for node in vA:            if node in vB:                unionNodes.append(node)        for node in unionNodes:            vA.remove(node)            vB.remove(node)        ans=len(vA)*len(vB)        allans.append(ans)    multiLineArrayPrint(allans)        return    import sys# input=sys.stdin.buffer.readline #FOR READING PURE INTEGER INPUTS (space separation ok)input=lambda: sys.stdin.readline().rstrip("\r\n") #FOR READING STRING/TEXT INPUTS. def oneLineArrayPrint(arr):    print(' '.join([str(x) for x in arr]))def multiLineArrayPrint(arr):    print('\n'.join([str(x) for x in arr]))def multiLineArrayOfArraysPrint(arr):    print('\n'.join([' '.join([str(x) for x in y]) for y in arr])) def readIntArr():    return [int(x) for x in input().split()]# def readFloatArr():#     return [float(x) for x in input().split()] def makeArr(defaultVal,dimensionArr): # eg. makeArr(0,[n,m])    dv=defaultVal;da=dimensionArr    if len(da)==1:return [dv for _ in range(da[0])]    else:return [makeArr(dv,da[1:]) for _ in range(da[0])] def queryInteractive(x,y):    print('? {} {}'.format(x,y))    sys.stdout.flush()    return int(input()) def answerInteractive(ans):    print('! {}'.format(ans))    sys.stdout.flush() inf=float('inf')MOD=10**9+7  for _abc in range(1):    main()
