n, m = map(int,input().split())ID = {}name_from_ID = {}for i in range(n):	name = input()	ID[name] = i	name_from_ID[i] = name people_I_hate = [set() for i in range(n)]for j in range(m):	name1, name2 = input().split()	people_I_hate[ID[name1]].add(ID[name2])	people_I_hate[ID[name2]].add(ID[name1]) def conflict(team,people_I_hate):	for guy1 in team:		for guy2 in team:			if guy1 in people_I_hate[guy2] or guy2 in people_I_hate:				return True	return False ans = []for mask in range(1<<n):	team = []	for i in range(n):		if mask&(1<<i):			team.append(i) 	if not conflict(team,people_I_hate) and len(team) > len(ans):		ans = [name_from_ID[x] for x in team] print(len(ans))for name in sorted(ans):	print(name)	
