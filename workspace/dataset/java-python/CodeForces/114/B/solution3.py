def GSB(x):	counter=0	while x!=0:		counter+=1		x=x>>1	return counter def friends(checker,enemy):	for i in range(len(enemy)):		if enemy[i][0] in checker and enemy[i][1] in checker:			return 0	return 1 people,conflict=[int(x) for x in input().split()]person=[]enemy=[]highest=-1highestarray=[]for i in range(people):	person.append(input())for j in range(conflict):	enemy.append(input().split())combinations=[int(x) for x in range((2**people))]for i in combinations:	checker=[]	j=0	z=GSB(i)	while j!=z and i!=0:		if i&1==1:			checker.append(person[j])		i=i>>1		j+=1	if friends(checker,enemy):		if len(checker)>highest:			highest=len(checker)			highestarray=checkerprint(highest)highestarray.sort()for i in range(highest):	print(highestarray[i])
