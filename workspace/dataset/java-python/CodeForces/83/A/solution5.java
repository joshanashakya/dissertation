import java.util.Scanner;  public class MagicalArray { 	/**	 * @param args	 */	public static void main(String[] args) {		// TODO Auto-generated method stub 		Scanner sc=new Scanner(System.in);        int n=sc.nextInt();        long a[]=new long[n];        long b[]=new long[n];        int size=0;        long c;                for(int i=0;i<n;i++)            a[i]=sc.nextInt();                for(int i=0;i<n;i++){            c=1;            while(i<n-1 && a[i]==a[i+1]){                c++;                i++;            }            b[size++]=c;        }                long ans = 0;                for(int i=0;i<size;i++){        	if(b[i] == 1)        		ans++;        	else        		ans += (b[i]*(b[i]+1))/2;             // nC2+nC3+nC4.............        }        System.out.println(ans);        }			}  
