import java.io.*;import java.util.*;public class Ishu{    static List<Integer>[] graph = new ArrayList[1];    static boolean[] visited = new boolean[1];    static int[] dp = new int[1];    static int dv = -1;    static Scanner scan = new Scanner(System.in);    static BufferedWriter output = new BufferedWriter(new OutputStreamWriter(System.out));     static void dfs(int ver)    {    visited[ver] = true;    int n = graph[ver].size();    int i;    for(i=0;i<n;++i)        {        int u = graph[ver].get(i) - 1;        if(!visited[u])            dfs(u);        }    }    static void dfs2(int ver, int depth)    {    visited[ver] = true;    dp[ver] = depth;        int n = graph[ver].size();    int i;        Map<Integer, Boolean> map = new HashMap<Integer, Boolean>();        for(i=0;i<n;++i)        {        int u = graph[ver].get(i) - 1;        if(!visited[u])            dfs2(u, depth + 1);        else if(dp[u] < depth - 1)            {            if(dv == -1)                dv = ver;                }        else if(map.containsKey(u))            {            if(dv == -1)                dv = ver;            }        else            map.put(u, true);        }    }    static void tc() throws Exception    {    int n = scan.nextInt();    int[] a = new int[n];    graph = new ArrayList[n];    visited = new boolean[n];    dp = new int[n];        int i;    for(i=0;i<n;++i)        {        a[i] = scan.nextInt();        graph[i] = new ArrayList<Integer>();        }        for(i=0;i<n;++i)        {        int u = i + 1;        int v = a[i];        graph[u-1].add(v);        graph[v-1].add(u);        }    int mr = -1;    for(i=0;i<n;++i)            if(a[i] == i + 1)            {            if(mr == -1)                mr = i;            dfs(i);            }                int cnt = 0;            for(i=0;i<n;++i)         if(!visited[i])            {            dv = -1;                        dfs2(i, 0);                         if(mr == -1)                mr = dv;                            a[dv] = mr + 1;                        cnt++;            }                for(i=0;i<n;++i)            if(a[i] == i + 1 && i != mr)            {            ++cnt;            a[i] = mr + 1;            }              output.write(cnt + "\n");    for(i=0;i<n;++i)        output.write(a[i] + " ");    output.write("\n");    output.flush();    }    public static void main(String[] args) throws Exception    {    int t = 1;    //t = scan.nextInt();    while(t-- > 0)        tc();    }}
