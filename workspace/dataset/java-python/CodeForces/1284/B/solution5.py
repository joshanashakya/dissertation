import bisectn = int(input())m1 = [0] * nm2 = []m3 = [0] * nfor i in range(n):    arr = list(map(int, input().split()))[1:]    k1, k2, k3 = float('inf'), float("-inf"), 0    for c in arr:        if c > k1:            k3 = 1        k1 = min(k1, c)        k2 = max(k2, c)    m3[i] = k3    if k3 == 0:        m1[i] = k1        m2.append(k2)m2.sort()ans = 0st = sum(m3)for i in range(n):    if m3[i]:        ans += n    else:        j = bisect.bisect_left(m2, m1[i] + 1)        ans += len(m2) - j + stprint(ans)
