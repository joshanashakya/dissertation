import java.util.ArrayList;import java.util.Random;import java.util.Scanner; public class PetyaAndExam {		public static void main(String[] args) {	   		Scanner sc = new Scanner(System.in);		String s = sc.next().trim();		ArrayList<String> ch = new ArrayList<String>();		for (int i=0; i<s.length(); ++i)			ch.add(s.substring(i, i+1));		String p = sc.next().trim();		int n = sc.nextInt();		for (int i=0; i<n; ++i)		{			String t = sc.next().trim();			int jt = 0;			int k = p.length(), m = t.length();			String ans = "";			for (int jp=0; jp<k && ans.length() == 0; ++jp)			{				String pa = p.substring(jp, jp+1);				String ta = jt < m ? t.substring(jt, jt+1) : "BLERGH"; 				if (pa.equals("?"))				{					if (jt < m)					{						if (!ch.contains(ta))							ans = "NO";						else { ++jt; }					}					else ans = "NO";				}				else if (pa.equals("*"))				{					for (int y=0; y<m-k+1; ++y)					{						if (!ch.contains(t.substring(jt, jt+1)))							++jt;						else {ans = "NO"; }					}				}				else				{					if (jt < m)					{						if (!pa.equals(ta))							ans = "NO";						else { ++jt; }					}					else ans = "NO";				}			}			if (jt == m && ans.length() == 0)				ans = "YES";			else ans = "NO";			System.out.println(ans);		} 		sc.close();	}		    	  }  Â 			   	 	  		 	  	 	 		 	 			
