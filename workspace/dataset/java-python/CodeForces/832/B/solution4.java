import java.io.BufferedReader;import java.io.IOException;import java.io.InputStreamReader;import java.util.HashMap;Â public class StringReplace {    public static void main(String[] args) throws IOException {        //read        BufferedReader b = new BufferedReader(new InputStreamReader(System.in));        String s1,s2,str;        int n;        s1 = b.readLine();        s2 = b.readLine();        n = Integer.parseInt(b.readLine());        String [] res = new String[n];        HashMap<Character,Integer> dic = new HashMap<>();        for (int i = 0; i < s1.length(); i++) {            dic.put(s1.charAt(i),1);        }        for (int i = 0; i < n; i++) {            str = b.readLine();            res[i] = isReplace(str,dic,s2);        }        for (String r:res) {            System.out.println(r);        }    }    public static String isReplace(String str,HashMap dic,String s2){        boolean flag = false;        int i = str.length()-1;        int j = s2.length()-1;        if(i == j){            flag = true;        }        if(i+1 < j){            return "NO";        }        while(j>=0 && i>=0){            if(s2.charAt(j) == '?' && !dic.containsKey(str.charAt(i))){                return "NO";            }            if(s2.charAt(j) == '*'){                if(flag ){                    if(dic.containsKey(str.charAt(i))) {                        return "NO";                    }else{                        i--;                        j--;                        continue;                    }                }else{                    if(j == i+1){                        j--;                        continue;                    }else{                        if(dic.containsKey(str.charAt(i))){                            return "NO";                        }else{                            i--;                            continue;                        }                    }                }            }            if(s2.charAt(j) != '?' && s2.charAt(j) != '*' && s2.charAt(j) != str.charAt(i)){                return "NO";            }            i--;            j--;        }        if(i == j) {            return "YES";        }        else{            if(s2.charAt(0) == '*'){                return "YES";            }else{            return  "NO";            }        }    }} 	 	 	   			 	  		 	      		  	
