hor = input()mask = input()lenmask = len(mask)for i in range(int(input())):    a = input()    lena = len(a)    f = True    if lena < lenmask - 1 and '*' in mask:        print('NO')        continue    elif lena < lenmask and '*' not in mask:        print('NO')        continue    elif lena > lenmask and '*' not in mask:        print('NO')        continue    for j in range(lenmask):        if mask[j] == '?':            if a[j] not in hor:                f = False                break        elif mask[j] == '*':            if lenmask - 1 == lena:                a = a[:j] + 'j' + a[j:]            else:                srez = a[j: j + lena - lenmask + 1]                for el in srez:                    if el in hor:                        f = False                        break                if not f:                    break                a = a[:j] + a[j + lena - lenmask:]        else:            if a[j] != mask[j]:                f = False                break    if f:        print('YES')    else:        print('NO')
