import sysimport mathfrom math import factorial, inf, gcdfrom heapq import *from functools import *from itertools import *from collections import *from typing import *sys.setrecursionlimit(10**5)#int(i) for i in input().split()t = 1t = int(input())for ii in range(t):    n, m = (int(i) for i in input().split())    a = []    for i in range(n):        b = [int(i) for i in input().split()]        a.append(b)    d = [(0, 1), (0, -1), (-1, 0), (1, 0)]    f = True    for i in range(n):        for j in range(m):            c = a[i][j]            ni = 0            for x, y in d:                nx, ny = i + x, y + j                if 0 <= nx < n and 0 <= ny < m:                    ni += 1            if c > ni:                f = False                break            a[i][j] = ni        if not f:            break    if not f:        print('NO')    else:        print('YES')        for i in range(n):            for j in range(m):                print(a[i][j], end=' ')            print()
