import java.util.*;import java.io.*; public class Main {	private static final int N= (int) 1e3+10;    public static void main(String[] args) throws IOException {		int t;		int[][] a=new int[N][N];		StreamTokenizer cin = new StreamTokenizer(new BufferedReader(new InputStreamReader(System.in)));		cin.nextToken();t=(int)cin.nval;		while(t-->0)		{			int n,m,i,j;			cin.nextToken();			n = (int) cin.nval;			cin.nextToken();			m=(int)cin.nval;			int f=1;			for(i=1;i<=n;i++)				for(j=1;j<=m;j++)				{					cin.nextToken();					a[i][j]=(int)cin.nval;					if(((i==1 && j==1) || (i==1 && j==m) || (i==n && j==1) || (i==n && j==m)) && a[i][j]>2 )						f=0;					else if((i==1 || i==n || j==1 || j==m) && a[i][j]>3)						f=0;					else if(a[i][j]>4)						f=0;				}			if(f==0)			{				System.out.println("NO");			}			else			{				System.out.println("YES");				for(i=1;i<=n;i++)				{					for(j=1;j<=m;j++)					{						if((i==1 && j==1) || (i==1 && j==m) || (i==n && j==1) || (i==n && j==m))							System.out.print("2 ");						else if(i==1 || i==n || j==1 || j==m)							System.out.print("3 ");						else							System.out.print("4 ");					}					System.out.println();				}			}		} 	} }
