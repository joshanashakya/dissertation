from collections import Counterfrom sys import stdin, stdout STRS = [] def main():    n = int(stdin.readline().rstrip())     for _ in range(n):        STRS.append(stdin.readline().rstrip())     k = len(STRS[0])    best = float('inf')    c = Counter(STRS[0])    for s in STRS:        if c != Counter(s):            best = -1            break     if best > 0:        table = [[float('inf')] * k for _ in range(n)]        table[0] = list(range(k))         for i in range(1, n):            # move target string over one by one            for a in range(k):                target = STRS[i][a:] + STRS[i][:a]                # compare all previous strings to match current target                for b in range(k):                    if STRS[i - 1][b:] + STRS[i- 1][:b] == target:                        table[i][a] = min(table[i][a], table[i - 1][b] + a)         best = min(table[-1])     if best == float('inf'):        best = -1     stdout.write(f'{best}\n')  if __name__ == '__main__':    main()
