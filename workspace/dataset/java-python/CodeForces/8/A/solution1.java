import java.util.Scanner; public class T8A {     public static void main(String[] args) {        Scanner in = new Scanner(System.in);        String flags = in.nextLine();        String first = in.nextLine();        String second = in.nextLine();         boolean isForward = checkOccurrenceTwoSubstring(flags, first, second);        boolean isBack = checkOccurrenceTwoSubstring(new StringBuilder(flags).reverse().toString(), first, second);         if (isForward && isBack) {            System.out.println("both");        } else if (isForward) {            System.out.println("forward");        } else if (isBack) {            System.out.println("backward");        } else {            System.out.println("fantasy");        }     }     public static boolean checkOccurrenceTwoSubstring(String str, String first, String second) {        boolean check = true;        int firstIndex = str.indexOf(first);        if (firstIndex >= 0) {            int secondIndex = str.substring(firstIndex + first.length()).indexOf(second);            if (secondIndex < 0) {                check = false;            }        } else {            check = false;        }         return check;    } }
