def check(flags: str, first: str, second: str) -> bool:    if first not in flags or second not in flags:        return False    f_f_index = flags.index(first)    s_l_index = flags.rindex(second)    return f_f_index + len(first) - 1 < s_l_index  flags, first, second = input(), input(), input()f = check(flags, first, second)flags = flags[::-1]b = check(flags, first, second)if f and b:    print('both')elif f:    print('forward')elif b:    print('backward')else:    print('fantasy') '''       0123456flags="aaacaaa"first="aca"second="aa"'''
