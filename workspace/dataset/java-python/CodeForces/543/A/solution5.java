    import java.util.*;    import java.io.*;         public class Solution{    	  public static void main (String[] args) throws java.lang.Exception	{		BufferedReader br = new BufferedReader(new InputStreamReader(System.in));    	PrintWriter out = new PrintWriter(System.out);    	StringTokenizer st = new StringTokenizer(br.readLine());	        int n = Integer.parseInt(st.nextToken());        int m = Integer.parseInt(st.nextToken());        int b = Integer.parseInt(st.nextToken());        int mod = Integer.parseInt(st.nextToken());                int[] a = new int[n];        st = new StringTokenizer(br.readLine());                for(int i=0;i<n;i++){          a[i] = Integer.parseInt(st.nextToken());        }                out.print(solve(a,n,m,b,mod));        out.close();	}		public static int solve(int[] a,int n, int m,int b,int mod){	   int[][] dp = new int[m+1][b+1];	   for(int k=0;k<n;k++)	     for(int i=1;i<=m;i++){	             for(int j=0;j<=b;j++){	                 if(i==1){	                   if(a[k] == j) dp[i][a[k]] = (dp[i][a[k]]+1)%mod;	                 }	                 else{	                 if(dp[i-1][j] > 0 && j+a[k]<= b)	                      dp[i][j+a[k]] =(dp[i][j+a[k]] + dp[i-1][j])%mod;	                 }	            } 	       }	       int result = 0;	       for(int i=0;i<=b;i++){	           result = (result+dp[m][i])%mod;	       }	       	       return result;	   }     }
