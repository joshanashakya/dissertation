import java.util.*;public class Main{    static void preProcess(ArrayList <String> str){                for (int i=0; i<str.size(); i++){            String s = str.get(i);            s = s.indexOf('_') != -1 ? s.replace("_", "") : s;            s = s.indexOf(';') != -1 ? s.replace(";", "") : s;            s = s.indexOf('-') != -1 ? s.replace("-", "") : s;            str.set(i, s.toLowerCase());        }        // str.forEach(System.out::println);    }        static int isSubString(String str, ArrayList <String> sub_str, int init){                for (int index=0; index < sub_str.size(); index++){            int j = 0, i = init;            String s = sub_str.get(index);                        for (; i<str.length(); i++){                if (str.charAt(i) != s.charAt(j)){                    break;                }                j++;                if (j == s.length()){                    return index;                }            }        }                return -1;    }        static boolean isCorrect(String str, ArrayList <String> sub_str){        if (str.length() < sub_str.get(0).length() + sub_str.get(1).length() + sub_str.get(2).length()){            return false;        }                ArrayList <String> sub = new ArrayList <String>(sub_str);                 for (int i=0; i<str.length(); ){                        int index = isSubString(str, sub, i);                        if (index == -1){                return false;            }            else{                i += sub.get(index).length();                sub.remove(sub.get(index));            }            // System.out.println(sub);            // System.out.println(str);        }        return true;    }            static void getResult(ArrayList <String> sub_str, ArrayList <String> str){        preProcess(sub_str);        Collections.sort(sub_str, Comparator.comparing(String::length));        Collections.reverse(sub_str);        preProcess(str);                for (String s : str){            String result = isCorrect(s, sub_str)  ? "ACC" : "WA";            System.out.println(result);        }    }        public static void main(String[] args) {        Scanner scan =  new Scanner(System.in);                ArrayList <String> sub_str = new ArrayList <String> ();        for (int i=0; i<3; i++)            sub_str.add(scan.nextLine());                ArrayList <String> str = new ArrayList <String> ();        int n = Integer.parseInt(scan.nextLine());        for (int i=0; i<n; i++)            str.add(scan.nextLine());                getResult(sub_str, str);            }}
