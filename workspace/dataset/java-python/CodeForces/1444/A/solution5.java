import java.util.*;public class Problem1444a {    static long pi;    static long qi;    public static void main(String[] args) {        Scanner sc = new Scanner(System.in);        int t = sc.nextInt();        while (t-->0) {            pi = sc.nextLong();            qi = sc.nextLong();            long tmpp = pi;            long tmpq = qi;            long ans = 0;            for (int i = 2; i <= (long) (Math.sqrt(tmpq)); i++) {                tmpp = pi;                while (tmpq % i == 0) {                    if (tmpp % qi != 0) {                        ans = Math.max(ans, tmpp);                    }                    else if (tmpp % i != 0) {                    }                    else {                        tmpp /= i;                        continue;                    }                    tmpq /= i;                }            }            if (tmpq >= 2) {                long x = pi;                while (true) {                    if (x % qi != 0) {                        ans = Math.max(ans, x);                        break;                    }                    if (x % tmpq != 0) {                        break;                    }                    else x /= tmpq;                }            }            System.out.println(ans);        }    }}
