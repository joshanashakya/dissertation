Â import java.util.*;import java.io.*;import java.io.FileInputStream;import java.io.IOException;import java.io.InputStreamReader;import java.util.*;import java.math.*;import java.io.BufferedReader;import java.io.IOException;import java.io.InputStreamReader;import java.util.StringTokenizer;    public class Solution{    public static void main (String args[])throws IOException{	               		Scanner sc = new Scanner(System.in);		int n = sc.nextInt();		long[] sorted = new long[n+1];		long[] dp = new long[n+1];		long c = 0;		for (int i = 0; i < n; i++) {			int a = sc.nextInt();			sorted[i] = a;			c += a;			dp[1 + i] = c;		}		Arrays.sort(sorted);		for(int i = 0; i < n; i++) sorted[i+1] += sorted[i];			int q = sc.nextInt();		while(q --> 0){			int t = sc.nextInt(), l = sc.nextInt(), r = sc.nextInt();			System.out.println(t == 1?dp[r]-dp[l-1]:sorted[r]-sorted[l-1]);		}			}	 	 }
