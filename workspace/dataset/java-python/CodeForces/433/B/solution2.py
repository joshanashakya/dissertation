def accumulate_sum(costs):	result = []	result.append(0)	result.append(costs[0])	for i in range(1, len(costs)):		result.append(result[i] + costs[i])	return result  n = int(input())costs = list(map(int, input().split()))m = int(input())sorted_costs = sorted(costs)vs = accumulate_sum(costs)us = accumulate_sum(sorted_costs)for i in range(m):	q, l, r = map(int, input().split())	if q == 1:		cs = vs	else:		cs = us	if l == r:		print(cs[r] - cs[l-1])	else:		print(cs[r] - cs[l-1])
