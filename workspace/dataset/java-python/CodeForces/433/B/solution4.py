n=int(input())l=list(map(int,input().split()))v=[]s=0for i in l:    s+=i    v.append(s)u=[]s=0l.sort()for i in l:    s+=i    u.append(s) m=int(input())for i in range(m):    t,L,r=map(int,input().split())     if t==1:        if L==1:            print(v[r-1])        else:            print(v[r-1]-v[L-2])    else:        if L==1:            print(u[r-1])        else:            print(u[r-1]-u[L-2]) 
