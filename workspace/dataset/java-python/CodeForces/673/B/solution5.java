import java.io.*;import java.util.*;Â public class problemforround {	public static void main(String args[]) {		Scanner sc = new Scanner(System.in);		int n = sc.nextInt();		int m = sc.nextInt();		int low = 1, high = n;		while (m > 0) {			int a = sc.nextInt();			int b = sc.nextInt();			if (a > b) {				int c = a;				a = b;				b = c;			}			low = Math.max(low, a);			high = Math.min(high, b);			--m;		}		System.out.println(Math.max(0, high-low));	}}
