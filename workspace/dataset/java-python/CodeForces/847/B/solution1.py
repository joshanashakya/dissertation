"""http://codeforces.com/contest/847/problem/B51 3 2 5 4 should output1 3 52 4"""input()numbers = [int(i) for i in input().split()]  # assumes all elements are distinct runs = [[numbers[0]]]for n in numbers[1:]:    if n < runs[-1][-1]:        runs.append([n])        continue     lo = 0    hi = len(runs) - 1    valid = -1    while lo <= hi:        to_search = (lo + hi) // 2        if n > runs[to_search][-1]:            valid = to_search            hi = to_search - 1        else:            lo = to_search + 1    # note: don't have 2 sort the list because an insertion will always preserve (reverse) order    # if there were an element that would've made, say, pos 2 < pos 1, then it would've chosen pos 1    runs[valid].append(n) for r in runs:    print(' '.join(str(n) for n in r))
