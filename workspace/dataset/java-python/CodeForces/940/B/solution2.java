import java.io.BufferedReader;import java.io.IOException;import java.io.InputStreamReader;import java.io.PrintWriter;import java.util.StringTokenizer; public class Zad940B { 	public static void main(String[] args) {		// TODO Auto-generated method stub		FastReader sc = new FastReader();		PrintWriter out = new PrintWriter(System.out);				long n = sc.nextInt();		long k = sc.nextInt();		long a = sc.nextInt();		long b = sc.nextInt();				long answer = 0;		if(k>n) {			out.println(a*(n-1));			out.close();			return;		}		if(k==1) {			out.println((n-1)*a);			out.close();			return;		}		while(n!=1) {			if(n%k!=0) {				long temp = n/k;				if(temp==0) {					answer = answer + (n-1)*a;					break;				}				long c = temp*k;				answer = answer + (n-c)*a;				n = c;			} else {				if(a*(n-n/k)<=b) {					answer+=a*(n-n/k);					n = n/k;				} else {					answer+=b;					n = n/k;				}			}		}		out.println(answer);		out.close();	}	static class FastReader 	{ 		BufferedReader br; 		StringTokenizer st;  		public FastReader() 		{ 			br = new BufferedReader(new					InputStreamReader(System.in)); 		}  		String next() 		{ 			while (st == null || !st.hasMoreElements()) 			{ 				try				{ 					st = new StringTokenizer(br.readLine()); 				} 				catch (IOException e) 				{ 					e.printStackTrace(); 				} 			} 			return st.nextToken(); 		}  		int nextInt() 		{ 			return Integer.parseInt(next()); 		}  		long nextLong() 		{ 			return Long.parseLong(next()); 		}  		double nextDouble() 		{ 			return Double.parseDouble(next()); 		}  		String nextLine() 		{ 			String str = ""; 			try			{ 				str = br.readLine(); 			} 			catch (IOException e) 			{ 				e.printStackTrace(); 			} 			return str; 		} 	} }
