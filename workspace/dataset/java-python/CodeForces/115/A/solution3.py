n = int(input()) children = [set() for _ in range(n + 1)]parent = [None] * (n + 1) for i in range(1, n + 1):    temp = int(input())    if temp != -1:        parent[i] = temp        children[temp].add(i) ans = 0visited = set()while True:    leaves = set()    for i, children_set in enumerate(children):        if not children_set and i and i not in visited:            leaves.add(i)    if leaves:        ans += 1        for leaf in leaves:            visited.add(leaf)            for cl in children:                if leaf in cl:                    cl.remove(leaf)    else:        break print(ans)
