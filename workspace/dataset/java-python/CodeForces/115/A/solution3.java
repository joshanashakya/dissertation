import java.io.*;import java.util.*; public class A115 {    public static void main(String[] args) throws IOException {        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));        BufferedWriter bw = new BufferedWriter(new OutputStreamWriter(System.out));         int n = Integer.parseInt(br.readLine());         ArrayList<Integer>[] adj = new ArrayList[n+1];        for(int i=0; i<(n+1); i++) {            adj[i] = new ArrayList<Integer>();        }        for(int i=0; i<n; i++) {            int j = Integer.parseInt(br.readLine());            if(j != -1) {                adj[j].add(i+1);            }        }         boolean[] visited = new boolean[n+1];        int[] maxHeight = {0};        for(int i=1; i<n+1; i++) {            if(!visited[i]) {                findMaxHeight(i, 1, adj, visited, maxHeight);            }        }         bw.write(maxHeight[0] + "\n");        bw.flush();    }     public static void findMaxHeight(        int node,         int currentHeight,         ArrayList<Integer>[] adj,         boolean[] visited,         int[] maxHeight) {        if(currentHeight > maxHeight[0]) {            maxHeight[0] = currentHeight;        }        visited[node] = true;        for(int i=0; i<adj[node].size(); i++) {            findMaxHeight(adj[node].get(i), currentHeight+1, adj, visited, maxHeight);        }    }}
