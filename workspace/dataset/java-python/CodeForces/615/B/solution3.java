import java.util.ArrayList;import java.util.Arrays;import java.util.HashMap;import java.util.List;import java.util.Map;import java.util.Scanner; public class Main { 	public static void main(String[] args) {		// TODO Auto-generated method stub 		Scanner input = new Scanner(System.in);				int n = input.nextInt();				int [] dp = new int[n+1];				int []  cnt = new int[n+1];				int m = input.nextInt();				Map<Integer, List<Integer>> map = new HashMap<>();				for(int i=0;i<m;i++) {						int u = input.nextInt(); 			int v = input.nextInt();						if(u<v) {				int temp = u;				u=v;				v=temp;			}						if(map.get(u)==null) {				map.put(u, new ArrayList<>());			}						map.get(u).add(v);			cnt[u]++;			cnt[v]++;		}				long ans =0; 				for(int i:map.keySet()) { 				dfs(i,map,dp);								}				for(int i=1;i<=n;i++) { 			ans=Math.max(ans, 1L*dp[i]*cnt[i]);					}				System.out.println(ans);					}		public static int dfs(int i,Map<Integer,List<Integer>> map, int[] dp) {						if(dp[i]!=0) {			return dp[i];		}				if(map.get(i)==null) {			dp[i]=1;			return 1;					}						for(int j: map.get(i)) {						dp[i]=Math.max(dfs(j,map,dp)+1,dp[i]);					}				return dp[i];	} } 	 	 				 		   	   	  			 	 	  	
