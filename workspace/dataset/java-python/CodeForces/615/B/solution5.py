from collections import defaultdict graph = defaultdict(list)n, m = list(map(int, input().split()))for i in range(m):    v, u = list(map(int, input().split()))    graph[v].append(u)    graph[u].append(v)dp = [1] * (n + 1)ans = len(graph[1])for i in range(2, n + 1):    for v in graph[i]:        if v < i:            dp[i] = max(dp[i], dp[v] + 1)    ans = max(ans, dp[i] * len(graph[i])) print(ans)
