import java.util.Scanner; public class problem83 { 	public static void main(String[] args) {		// TODO Auto-generated method stubScanner sc  =new Scanner(System.in);int t = sc.nextInt();while(t!=0){	long n = sc.nextLong();	long k = sc.nextLong();	long steps=0;	while(n!=0)	{		if(n%k==0)		{			n = n/k;			steps ++;					}		else {			long x = n%k;			n = n-x;			steps = steps + x;		}	}		System.out.println(steps);	t--;}	} }
