a = input()num_of_rows, num_of_passangers = a.split(" ")num_of_rows = int(num_of_rows)num_of_passangers = int(num_of_passangers)rows = []for i in range(int(num_of_rows)):    rows.append(input()) new_rows = []new_rows_1 = []new_rows_2 = []for row in rows:           if (".." in row[:2]) or (".P" in row[:2]):               original_row = row[:2]               if(num_of_passangers >= 1):                   num_of_passangers = num_of_passangers - 1                   result_of_replace = original_row.replace(".","x",1)               else:                   result_of_replace = original_row               row = result_of_replace + row[2:]           if (".." in row[-2:]) or ("P." in row[-2:]):               original_row = row[-2:]               if(num_of_passangers >= 1):                   num_of_passangers = num_of_passangers - 1                   if (".." in row[-2:]):                       result_of_replace = ".x"                   if ("P." in row[-2:]):                       result_of_replace = "Px"               else:                   result_of_replace = original_row               row = row[:-2] + result_of_replace            while ((("P.P" in row) or ("P.." in row) or ("..P" in row) or ("..." in row) or ("P.-" in row) or ("-.P" in row) or ("..-" in row) or ("-.." in row) or ("x.P" in row) or ("x.." in row) or ("x.-" in row) or ("..x" in row) or ("-.x" in row) or ("P.x" in row)or("x.x"in row)) and (num_of_passangers > 0)):                if ("P.P" in row):                    minus = min(row.count("P.P"),num_of_passangers)                     row = row.replace("P.P","PxP",num_of_passangers)                    num_of_passangers = num_of_passangers - minus                if("P.." in row):                    minus = min(row.count("P.."),num_of_passangers)                    row = row.replace("P..","Px.",num_of_passangers)                    num_of_passangers = num_of_passangers - minus                if("..P" in row):                    minus = min(row.count("..P"),num_of_passangers)                    row = row.replace("..P",".xP",num_of_passangers)                    num_of_passangers = num_of_passangers - minus                if("..." in row):                    minus = min(row.count("..."),num_of_passangers)                    row = row.replace("...",".x.",num_of_passangers)                    num_of_passangers = num_of_passangers - minus                if("P.-" in row):                    minus = min(row.count("P.-"),num_of_passangers)                    row = row.replace("P.-","Px-",num_of_passangers)                    num_of_passangers = num_of_passangers - minus                if("-.P" in row):                    minus = min(row.count("-.P"),num_of_passangers)                    row = row.replace("-.P","-xP",num_of_passangers)                    num_of_passangers = num_of_passangers - minus                if("..-" in row):                    minus = min(row.count("..-"),num_of_passangers)                    row = row.replace("..-",".x-",num_of_passangers)                    num_of_passangers = num_of_passangers - minus                if("-.." in row):                    minus = min(row.count("-.."),num_of_passangers)                    row = row.replace("-..","-x.",num_of_passangers)                    num_of_passangers = num_of_passangers - minus                if("x.P" in row):                    minus = min(row.count("x.P"),num_of_passangers)                    row = row.replace("x.P","xxP",num_of_passangers)                    num_of_passangers = num_of_passangers - minus                if("x.." in row):                    minus = min(row.count("x.."),num_of_passangers)                    row = row.replace("x..","xx.",num_of_passangers)                    num_of_passangers = num_of_passangers - minus                if("x.-" in row):                    minus = min(row.count("x.-"),num_of_passangers)                    row = row.replace("x.-","xx-",num_of_passangers)                    num_of_passangers = num_of_passangers - minus                if("..x" in row):                    minus = min(row.count("..x"),num_of_passangers)                    row = row.replace("..x",".xx",num_of_passangers)                    num_of_passangers = num_of_passangers - minus                if("-.x" in row):                    minus = min(row.count("-.x"),num_of_passangers)                    row = row.replace("-.x","-xx",num_of_passangers)                    num_of_passangers = num_of_passangers - minus                if("P.x" in row):                    minus = min(row.count("P.x"),num_of_passangers)                    row = row.replace("P.x","Pxx",num_of_passangers)                    num_of_passangers = num_of_passangers - minus                if ("x.x" in row):                    minus = min(row.count("x.x"),num_of_passangers)                    row = row.replace("x.x","xxx",num_of_passangers)                    num_of_passangers = num_of_passangers - minus            new_rows_1.append(row)for row in new_rows_1:           if (".S" in row[:2]):               original_row = row[:2]               if(num_of_passangers >= 1):                   num_of_passangers = num_of_passangers - 1                   result_of_replace = original_row.replace(".","x",1)               else:                   result_of_replace = original_row               row = result_of_replace + row[2:]           if ("S." in row[-2:]):               original_row = row[-2:]               if(num_of_passangers >= 1):                   num_of_passangers = num_of_passangers - 1                                      result_of_replace = "Sx"               else:                   result_of_replace = original_row               row = row[:-2] + result_of_replace           while((("S.." in row) or ("S.P" in row) or ("..S" in row) or ("P.S" in row) or ("S.-" in row) or ("-.S" in row) or ("x.S" in row) or ("S.x" in row)) and (num_of_passangers > 0)):                if ("S.." in row):                    minus = min(row.count("S.."),num_of_passangers)                    row = row.replace("S..","Sx.",num_of_passangers)                    num_of_passangers = num_of_passangers - minus                if("S.P" in row):                    minus = min(row.count("S.P"),num_of_passangers)                    row = row.replace("S.P","SxP",num_of_passangers)                    num_of_passangers = num_of_passangers - minus                if("..S" in row):                    minus = min(row.count("..S"),num_of_passangers)                    row = row.replace("..S",".xS",num_of_passangers)                    num_of_passangers = num_of_passangers - minus                if("P.S" in row):                    minus = min(row.count("P.S"),num_of_passangers)                    row = row.replace("P.S","PxS",num_of_passangers)                    num_of_passangers = num_of_passangers - minus                if("S.-" in row):                    minus = min(row.count("S.-"),num_of_passangers)                    row = row.replace("S.-","Sx-",num_of_passangers)                    num_of_passangers = num_of_passangers - minus                if("-.S" in row):                    minus = min(row.count("-.S"),num_of_passangers)                    row = row.replace("-.S","-xS",num_of_passangers)                    num_of_passangers = num_of_passangers - minus                if("x.S" in row):                    minus = min(row.count("x.S"),num_of_passangers)                    row = row.replace("x.S","xxS",num_of_passangers)                    num_of_passangers = num_of_passangers - minus                if("S.x" in row):                    minus = min(row.count("S.x"),num_of_passangers)                    row = row.replace("S.x","Sxx",num_of_passangers)                    num_of_passangers = num_of_passangers - minus           new_rows_2.append(row)for row in new_rows_2:           while(("S.S" in row) and (num_of_passangers > 0)):                   if("S.S" in row):                       minus = min(row.count("S.S"),num_of_passangers)                       row = row.replace("S.S","SxS",num_of_passangers)                       num_of_passangers = num_of_passangers - minus           new_rows.append(row)num_of_status = 0for row in new_rows:    for i in range(len(row)):        if row[i] == "S":            if (i != 0 and i != (len(row) - 1)):                if((row[i - 1] == "P") or (row[i - 1] == "x") or (row[i - 1] == "S")):                    num_of_status = num_of_status + 1                if((row[i + 1] == "P") or (row[i + 1] == "x") or (row[i + 1] == "S")):                    num_of_status = num_of_status + 1            if (i == 0):                if ((row[i + 1] == "P") or (row[i + 1] == "x") or (row[i + 1] == "S")):                    num_of_status = num_of_status + 1            if (i == (len(row) - 1)):                if (row[i - 1] == "P" or row[i - 1] == "x" or row[i - 1] == "S"):                    num_of_status = num_of_status + 1print(num_of_status)for row in new_rows:    print(row)                                                                          
