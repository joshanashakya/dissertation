import java.util.Scanner; public class Main {      public static void main(String[] args) {        Scanner sc = new Scanner(System.in);         int n = sc.nextInt();//Кол-во рядов        int k = sc.nextInt();//Кол-во пассажиров, которых нужно рассадить        char plane[][] = new char[n][14];        int c = 0;        //Заполняем массив        for (int i = 0; i < n; i++) {            plane[i] = ('0' + sc.next() + '0').toCharArray();        }          for (int i = 0; i < n; i++) {            for (int j = 1; j < 14; j++) {                if (plane[i][j] == '.') {                    if (k > 0 && (plane[i][j - 1] != 'S' && plane[i][j + 1] != 'S')) {                        k--;                         plane[i][j] = 'x';                    } else {                        if (k == 0) {                            break;                        }                    }                 }             }         }        for (int i = 0; i < n; i++) {            for (int j = 1; j < 14; j++) {                if (plane[i][j] == '.') {                    if (k > 0 && ((plane[i][j - 1] != 'S' && plane[i][j + 1] == 'S') || (plane[i][j + 1] != 'S' && plane[i][j - 1] == 'S'))) {                        k--;                         plane[i][j] = 'x';                    } else {                        if (k == 0) {                            break;                        }                    }                }             }        }         for (int i = 0; i < n; i++) {            for (int j = 1; j < 14; j++) {                if (plane[i][j] == '.') {                    if (k > 0) {                        k--;                         plane[i][j] = 'x';                    } else {                        if (k == 0) {                            break;                        }                    }                }             }        }         for (int i = 0; i <n; i++) {            for (int j = 1; j <13; j++) {                 if (plane[i][j]=='S'){                    if (plane[i][j+1]=='P'||plane[i][j+1]=='S'||plane[i][j+1]=='x'){                        c++;                    }                     if (plane[i][j-1]=='P'||plane[i][j-1]=='S'||plane[i][j-1]=='x'){                        c++;                    }                }            }        }         System.out.println(c);        for (int i = 0; i < n; i++) {            for (int j = 1; j < 13; j++) {                System.out.print(plane[i][j]);            }            System.out.println();        }      }}
