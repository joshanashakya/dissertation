n, k = map(int, input().split())a = [0] * ncnt = [0] * 3ans = 0for i in range(n):	a[i] = list(input()) + [0]	for j in range(12):		if a[i][j] == '.':			a[i][j] = 0			if a[i][j - 1] == 'S':				a[i][j] += 1			if a[i][j + 1] == 'S':				a[i][j] += 1			cnt[a[i][j]] += 1		elif a[i][j] == 'S':			if a[i][j - 1] == 'P' or a[i][j - 1] == 'S':				ans += 1			if a[i][j + 1] == 'P' or a[i][j + 1] == 'S':				ans += 1for i in range(3):	c = min(cnt[i], k)	k -= c	ans += i * c	cnt[i] = cprint(ans)for i in range(n):	for j in range(12):		if type(a[i][j]) == int:			if cnt[a[i][j]] > 0:				cnt[a[i][j]] -= 1				a[i][j] = 'x'			else:				a[i][j] = '.'	print(''.join(a[i][:-1]))
