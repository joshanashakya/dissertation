import java.util.Scanner; public class Main {	static char c[][];	static int num;	public static void main(String[] args) {		Scanner sc=new Scanner(System.in);		int n=Integer.parseInt(sc.next());		c=new char [n][n];		for(int i=0;i<n;i++) {			c[i]=sc.next().toCharArray();		}		for(int i=0;i<n;i++) {			int count=0;			for(int j=0;j<n;j++) {				if(c[i][j]=='C') {					count++;				}			}			for(int j=count-1;j>0;j--) {				num+=j;			}					}		for(int i=0;i<n;i++) {			int count=0;			for(int j=0;j<n;j++) {				if(c[j][i]=='C') {					count++;				}			}			for(int j=count-1;j>0;j--) {				num+=j;			} 		}		System.out.println(num);	} }
