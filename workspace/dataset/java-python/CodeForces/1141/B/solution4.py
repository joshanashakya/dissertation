n = int(input())a = list(map(int,input().split()))ans = 0consecutive = 0for i in range(n):    if a[i] == 1:        consecutive += 1    else:         consecutive = 0    ans = max(ans,consecutive)L = 0for i in range(n):    if a[i] == 1:        L += 1    else:         breakR = 0for i in range(n - 1,-1,-1):    if a[i] == 1:        R += 1    else:        breakprint(max(ans,min(n,L + R)))
