//Author: Klaus RELOADED#include <bits/stdc++.h> using namespace std;Â vector<pair<int,int>> a;int main(){	ios_base::sync_with_stdio(false);	cin.tie(0);	int n, w, h;	cin>>n>>w>>h;	map<int,vector<int>> P;	map<int,pair<int,int>> fin;	for(int i=0; i<n; i++){		int g, p, t;		cin>>g>>p>>t;		P[p-t].push_back(i);		if(g&1)a.push_back({p,0});		else a.push_back({0,p});	}	vector<pair<int,int>> ans(n);	for(auto& [p,v] : P){		sort(v.begin(),v.end(),[](int i, int j){				if(a[i].first == a[j].first) return a[i].second > a[j].second;				return a[i].first < a[j].first;				});		vector<pair<int,int>> vx(v.size());		for(int i=0; i<v.size(); i++){			if(a[v[i]].first){				vx[i] = {a[v[i]].first,h};			}else{				vx[i] = {w,a[v[i]].second};			}		}		sort(vx.begin(),vx.end(),[](pair<int,int> x, pair<int,int> y){				if(x.first == y.first)return x.second > y.second;				return x.first < y.first;				});		for(int i=0; i<v.size(); i++){			ans[v[i]] = vx[i];			//cout<<i<<": "<<vx[i].first<<' '<<vx[i].second<<'\n';		}	}	for(auto& p : ans)		cout<<p.first<<' '<<p.second<<'\n';	cout<<'\n';	return 0;}
