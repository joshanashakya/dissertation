import java.util.*;Â public class P1 {		public static void main(String[] args) {		Scanner sc = new Scanner(System.in);	int n = sc.nextInt();	int a[]=new int[n-1];	for(int i=0;i<n-1;i++) {		a[i]=sc.nextInt();	}	ArrayList<Integer>al  =new ArrayList<>();	int c=n;	al.add(c);	while(c>1) {		c=a[c-2];		al.add(c);	}		Collections.reverse(al);	for(int i=0;i<al.size();i++) {		System.out.print(al.get(i)+" ");	}	    }	 }
