import java.util.*; public class Solve {     static Scanner scan = new Scanner(System.in);     public static void solve(int n,int a,int b,int[] arr){         int cost = 0;         if(n % 2 == 0){            for(int i=0;i<n;i++){                if(arr[i]==2){                    if(arr[Math.abs((n-i)-1)] == 2){                        cost+= Math.min(a,b);                        if(Math.min(a,b) == a){                            arr[i] = 0;                        }                        else{                            arr[i] = 1;                        }                    }                    else if(arr[Math.abs((n-i)-1)] == 0){                        cost += a;                        arr[i] = 0;                    }                    else{                        cost += b;                        arr[i] = 1;                    }                }            }        }        else{            int half = n/2;            for(int i=0;i<n;i++){                if(arr[i]==2){                    if(i == half && arr[i] == 2){                        cost+= Math.min(a,b);                        if(Math.min(a,b) == a){                            arr[i] = 0;                        }                        else{                            arr[i] = 1;                        }                    }                    else if(arr[Math.abs((n-i)-1)] == 2){                        cost+= Math.min(a,b);                        if(Math.min(a,b) == a){                            arr[i] = 0;                        }                        else{                            arr[i] = 1;                        }                    }                    else if(arr[Math.abs((n-i)-1)] == 0){                        cost += a;                        arr[i] = 0;                    }                    else{                        cost += b;                        arr[i] = 1;                    }                }            }        }        String s = "";         for (int i = 0; i < n; i++) {            s += arr[i];        }         if(isPalindrome(s)){            System.out.println(cost);        }        else{            System.out.println(-1);        }    }     public static boolean isPalindrome(String s){        int i=0,j=s.length()-1;        while(i<j){            if(s.charAt(i)!=s.charAt(j)){                return false;            }            i++;            j--;        }        return true;    }     public static void main(String[] args) {         int n = scan.nextInt();        int a = scan.nextInt();        int b = scan.nextInt();         int[] arr = new int[n];         for(int i=0;i<n;i++){            arr[i] = scan.nextInt();        }         solve(n,a,b,arr);    }}
