import java.util.Scanner;public class Main {    public static void main(String[] args) {         Scanner puttingvaluesinside = new Scanner(System.in);        int arr1[] = new int [puttingvaluesinside.nextInt()];        int base1 = puttingvaluesinside.nextInt();        for(int i=0;i<arr1.length;i++)            arr1[i] = puttingvaluesinside.nextInt();        int arr2[] = new int [puttingvaluesinside.nextInt()];        int base2 = puttingvaluesinside.nextInt();        for(int i=0;i<arr2.length;i++)            arr2[i] = puttingvaluesinside.nextInt();        long decimal1 = anyBaseToDecimal(arr1, base1);        long decimal2 = anyBaseToDecimal(arr2, base2);//        System.out.println("decimal1 = " + decimal1);//        System.out.println("decimal2 = " + decimal2);        if(decimal1==decimal2)            System.out.println("=");        else if(decimal1<decimal2)            System.out.println("<");        else            System.out.println(">");    }     public static long anyBaseToDecimal(int arr[], int base)    {        long ans=0;        int k = arr.length-1;        for(int i=0;i<arr.length;i++)        {            ans+=arr[i]*Math.pow(base,k);            k--;        }        return ans;    }}
