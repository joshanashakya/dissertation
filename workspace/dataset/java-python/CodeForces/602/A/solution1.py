n,m=map(int,input().split())l=list(map(int,input().split()))first=int(0)second=int(0)now=int(1)for i in range(len(l)-1,-1,-1):    first=first+now*l[i]    now=now*m n1,m1=map(int,input().split())l1=list(map(int,input().split())) now=1for i in range(len(l1)-1,-1,-1):    second=second+now*l1[i]    now=now*m1 if second==first:    print('=')elif second>first:    print('<')else:    print('>')
