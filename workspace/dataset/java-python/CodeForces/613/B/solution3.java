import java.io.*;import java.util.*;public class B613 implements Comparable<B613>{    long val;int id;    static long a[],b[],A;    public B613(long v,int i)    {        this.val=v;        this.id=i;    }    public int compareTo(B613 ob)    {        return Long.compare(this.val,ob.val);    }    static long find(int last,long m,B613 arr[])    {        if(last<0)            return A;        long v=0;        if(a[last]<=m)        {            v=(arr[last].val+(m-a[last])/(last+1));        }        else        {            int lo=0,hi=last;            while(lo+1 < hi)            {                int mid=(lo+hi)/2;                if(a[mid]<=m)                    lo=mid;                else                    hi=mid;            }            v=(arr[lo].val+(m-a[lo])/(lo+1));        }        if(v>A)            return A;        else            return v;    }    public static void main(String args[])throws IOException    {        Scanner sc=new Scanner(System.in);        int n=sc.nextInt();        A=sc.nextLong();        long cf=sc.nextLong();        long cm=sc.nextLong();        long m=sc.nextLong();        B613 arr[]=new B613[n];        for(int i=0;i<n;i++)        {            arr[i]=new B613(sc.nextLong(),i);        }        Arrays.sort(arr);        a=new long[n];        b=new long[n+1];        for(int i=1;i<=n;i++)        {            if(i==n)            {                b[i]=b[i-1]+A-arr[n-i].val;            }            else            {                a[i]=a[i-1]+ i*(arr[i].val-arr[i-1].val);                b[i]=b[i-1]+A-arr[n-i].val;            }        }        long res=-1,min=0;        for(int i=0;i<=n;i++)        {            if(b[i]>m)                break;            long v=find(n-i-1,m-b[i],arr);            long t=i*cf+ v*cm;            if(t>res)            {                res=t;min=v;            }        }        System.out.println(res);        for(int i=0;i<n;i++)        {            if(arr[i].val<min)            {                m=m-(min-arr[i].val);                arr[i].val=min;            }        }        for(int i=n-1;i>=0;i--)        {            if(A-arr[i].val <=m)            {                m-=(A-arr[i].val);                arr[i].val=A;            }            else                break;        }        long r[]=new long[n];        for(int i=0;i<n;i++)        {            r[arr[i].id]=arr[i].val;        }        for(int i=0;i<n;i++)        {            System.out.print(r[i]+" ");        }    }}
