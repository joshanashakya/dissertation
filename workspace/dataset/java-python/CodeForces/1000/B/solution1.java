import java.util.Scanner; public class LightItUp { 	public static void main(String[] args) {		Scanner scanner = new Scanner(System.in);		int n = scanner.nextInt();		int M = scanner.nextInt();		int[] on = new int[(int)(n/2)+1];		int[] off = new int[(int)(n/2)+1];		int[] a = new int[n];		int temp = 0;		int max = 0;		scanner.nextLine();		a[0] = scanner.nextInt();		on[0] = a[0];		for(int i = 1;i<n;i++){			a[i] = scanner.nextInt();			if(i%2 == 0){				on[i/2] = a[i]-a[i-1] + on[i/2-1];			}else{				if(i == 1){					off[(int)(i/2)] = a[i]-a[i-1];					continue;				}				off[(int)(i/2)] = a[i]-a[i-1] + off[(int)(i/2)-1];			}		}		if(n%2 == 0){			on[n/2] = M-a[n-1]+on[n/2-1];		}else{			if(n == 1){				off[0] = M - a[0];			}else{				off[(n-1)/2] += M - a[n-1]+off[(n-1)/2-1];			}		}		scanner.close();		max = on[(int)(n/2)];		for(int i = 0;i<n;i++){						if(i == 0){				temp = a[0]-1;				temp += (off[(int)(n/2)] == 0? off[(int)(n/2)-1]: off[(int)(n/2)]);			}else{				if(a[i]-a[i-1] == 1){					continue;				}				temp = a[i]-a[i-1]-1;				temp += on[(int)(i-1)/2];				temp += (off[(int)(n/2)] == 0? off[(int)(n/2)-1]: off[(int)(n/2)])- off[(int)(i-1)/2];							}									if(temp>max){				max = temp;			}		}		System.out.println(max);			}}
