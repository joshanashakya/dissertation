n,m = map(int, input().split())ls = [0] + [int(x) for x in input().split()] + [m]lb = [0] * nb=0for i in range(0, n+1, 2):    b += ls[i + 1] - ls[i]  #calculate b0ans = bb = m - b + ls[1] - 1if ls[1]!=1 or ls[2]-ls[1]!=1:ans=max(ans,b)for i in range(1, n-1, 2):    b=b+ls[i]+ls[i+2]-2*ls[i+1]Â     if ls[i+2] - 1 != ls[i + 1] or ls[i+2] + 1 != ls[i + 3]:        ans = max(ans, b)print(ans)
