import java.util.Scanner; public class Lamp {	 	public static void main(String[] args) {		// TODO Auto-generated method stub		Scanner in=new Scanner(System.in);		int n=in.nextInt();int m=in.nextInt();		int[]a=new int[n+2];		a[n+1]=m;		for(int i=1;i<n+1;i++)			a[i]=in.nextInt();		int seg=0;int max=0;int t=0;int ans=0;		for(int i=1; i<=n+1; i+=2)			ans+=a[i]-a[i-1];int sm=ans;		for(int i=1; i<=n; i+=2)		{			t+=a[i]-a[i-1];			if(a[i]+1!=a[i+1]&&a[i]+1!=m)			{				seg=2*t+m-a[i]-sm-1;				ans=Math.max(seg,ans);			}		}	System.out.println(ans);		in.close();	}  	} 
