import java.util.*; public class a { 	static Scanner in = new Scanner(System.in);		public static void main(String[] args) {				int n = in.nextInt();			int[] a = new int[(int) Math.pow(2, n+1)];		int[] c = new int[(int) Math.pow(2, n+1)];				for(int i = 2; i < Math.pow(2, n+1); i++) {			a[i] = in.nextInt();		}				for(int i = 2; i < Math.pow(2, n+1); i++) {			c[i] = a[i] + c[Math.floorDiv(i, 2)];		}				long ans = 0;				for(int i = n; i > 0; i--) {						for(int j = (int) Math.pow(2, i); j < Math.pow(2,i+1); j+=2) {				c[Math.floorDiv(j, 2)] = Math.max(c[j], c[j+1]);				ans += Math.abs(c[j]-c[j+1]);			}					}		System.out.println(ans);	}}
