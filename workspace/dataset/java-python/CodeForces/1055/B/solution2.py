n, m, l = map(int, input().split())a = list(map(int, input().split()))subs = [0] * (n + 2)cnt = 0flag = Falsefor i in range(n):    if a[i] > l:        if flag == False:            cnt += 1            flag = True        subs[i + 1] = 1    else:        flag = Falsefor i in range(m):    q = tuple(map(int, input().split()))    op = q[0]    if op == 1:        op, p, d = q        before = a[p - 1]        a[p - 1] += d        if before <= l < a[p - 1]:            subs[p] = 1            if subs[p - 1] and subs[p + 1]:                cnt -= 1            elif not (subs[p - 1] or subs[p + 1]):                cnt += 1    else:        print(cnt)
