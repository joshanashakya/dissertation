// practice with rainboyimport java.io.*;import java.util.*; public class CF809B extends PrintWriter {	CF809B() { super(System.out, true); }	Scanner sc = new Scanner(System.in);	public static void main(String[] $) {		CF809B o = new CF809B(); o.main(); o.flush();	} 	boolean query(int i, int j) {		println("1 " + i + " " + j);		return sc.next().equals("TAK");	}	int search(int lower, int upper) {		while (upper - lower > 1) {			int i = (lower + upper) / 2;			if (query(i, i + 1))				upper = i;			else				lower = i;		}		return upper;	}	int search_(int lower, int upper) {		while (upper - lower > 1) {			int i = (lower + upper) / 2;			if (query(i + 1, i))				lower = i;			else				upper = i;		}		return upper;	}	void main() {		int n = sc.nextInt();		int k = sc.nextInt();		int i = search(0, n);		int j = search(0, i - 1);		if (j == 0 || !query(j, i))			j = search_(i, n);		println("2 " + i + " " + j);	}}
