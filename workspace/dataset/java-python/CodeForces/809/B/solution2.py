import sys  def chek(x, y):    print(1, int(x), int(y))    sys.stdout.flush()    return input() == 'TAK'  def binp(l, r):    if l == r:        return l    while l < r:        m = (l + r) // 2        if chek(m, m + 1):            r = m        else:            l = m + 1    return int(l)  n, k = list(map(int, input().split()))x = binp(1, n)y1, y2 = x,xif x>1: y1=binp(1, x - 1)if x<n: y2=binp(x + 1, n)if not chek(y1, y2):    y1, y2 = y2, y1if x == y1:    y1, y2 = y2, y1print(2, x, y1)sys.stdout.flush()
