def query(x, y):        print(1, x, y)        ans = input()        return ans == "TAK" def solve(L, R):        while L < R:                M = (L + R) // 2                if query(M, M+1):                        R = M                else:                        L = M + 1        return L  N, K = map(int, input().split()) a = solve(1, N)if a == 1:        print(2, a, solve(2, N))        exit(0)if a == N:        print(2, a, solve(1, N-1))        exit(0) b = solve(1, a-1)if query(b, a) == False:        b = solve(a+1, N)print(2, a, b)
