 // "It does not matter how slowly you go as long as you do not stop." - Confucius#include<iostream>#include<string>#include<string.h>#include<cstring>#include<math.h>#include<iomanip>#include<vector>#include<cmath>#include<algorithm>#include<numeric>#include<cctype>#include<utility>#include<set>#include<map>#include<sstream>#include<iterator>#include<limits>#include<map>#include<deque>#include<stack>#include<queue>#include<climits>#include<tuple>using namespace std;#define pb push_back#define ff(i,a,b) for(int i=a;i<b;++i)#define ffr(i,b,a) for(int i=b;i>=a;--i)#define fflr(i,b,a) for(long long i=b;i>=a;--i)#define ffl(i,a,b) for(long long i=a;i<b;++i)#define all(v) v.begin(), v.end() #define endl '\n'#define Yes cout << "Yes" << endl#define No cout << "No" << endl#define YES cout << "YES" << endl#define NO cout << "NO" << endl#define trav(a,x) for (auto& a : x)#define lb lower_bound#define ub upper_bound#define ins insert#define collect(v, n)            \    for (ll i = 0; i < n; i++) { \        cin >> v[i];             \    }#define X first#define Y second#define mp make_pair#define mt make_tupletypedef long long ll;typedef long double ld;typedef std::pair<int,int> pii;typedef pair<ll,ll> pll; typedef std::vector<int> vec;typedef vector<pii> vii;typedef vector<pll> vll;typedef std::vector<long long> vecl;typedef map<int,int> mii;typedef map<ll,ll> mll; void FAST() {	// FAST Input Output, DONT use both scnaf,printf / cin,cout , Use any ONE system	ios::sync_with_stdio(0);	cin.tie(0);	cout.tie(0);} const ll md = 1000000007;#define pi 3.141592653589793238462643383279const ll inf = 1e18L + 5;  // max 1000*infconst char nl = '\n';const int N=200005;   int main() {	FAST();int tt{},T{};tt=1;   	while(tt--){        //cout<<"--------Test:"<<T-tt<<endl;        string str,sa,sb;        int n{},m{},ans{},k{},a{},b{},c{},x{},y{},f{},q{};                          cin>>n>>m; //vec v(n); ff(i,0,n)cin>>v[i];                vector<vec> g(n+1),gg;        ff(i,0,m){            cin>>x>>y;            g[x].pb(y);            g[y].pb(x);        }        gg=g;        b=md;        ff(i,1,min(7,n+1)){            if(g[i].size()<b){                b=g[i].size();                a=i;            }        }//        ff(i,1,8){//            cout<<i<<" : ";//            trav(e,g[i])cout<<e<<" ";//            cout<<nl;//        }        y=0;        ff(p,1,7){            g.clear();            g=gg;ans=0;        int zz[8][8]{};        ff(i,0,8){            ff(j,0,8)zz[i][j]=0;        }        a=p;        //cout<<g[7].size()<<nl;        if(n>=7){            ff(i,1,n+1){                k=g[i].size();                ff(j,0,k){                    if(g[i][j]==a){                        g[i][j]=7;                    }else if(g[i][j]==7){                        g[i][j]=a;                    }                }            }            vec v=g[a];            g[a].clear();            trav(e,g[7])g[a].pb(e);            g[7].clear();            trav(e,v)g[7].pb(e);                    }        //        cout<<nl;//        cout<<p<<":::::\n";//        ff(i,1,8){//            cout<<i<<" : ";//            trav(e,g[i])cout<<e<<" ";//            cout<<nl;//        }        //cout<<g[7].size()<<nl;        ans=0;        f=0;        int z[8][8]{};        ff(i,1,min(7,n+1)){            //cout<<g[i].size()<<" ";            trav(j,g[i]){//                if(!f&&j==7){//                    ++ans;//                    z[i][i]=1;f=1;//                }                if(j==7)continue;                if(!z[i][j]&&(!z[j][i])){                    z[i][j]=z[j][i]=1;++ans;                }            }        }        a=0;        a=ans;        ans=0;        //cout<<a<<":";        c=0;        if(n>=7){            ff(i,1,7){                c=0;                vii w;                trav(e,g[7]){                    if(z[i][e]==0&&z[e][i]==0){                        z[i][e]=z[e][i]=1;                        ++c;                        w.pb(mp(i,e));                    }                }                trav(qq,w){                    z[qq.X][qq.Y]=z[qq.Y][qq.X]=0;                }                                ans=max(ans,c);            }        }        a+=ans;                y=max(y,a);        //cout<<p<<":"<<y<<" ";        }                cout<<y<<nl;            }    	return 0;}
