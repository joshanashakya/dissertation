import java.io.*;import java.util.*;Â public class Main {		void solve() {		int n = in.nextInt();		int T = in.nextInt();		double c = in.nextDouble();		int[] a = new int[n];		for (int i = 0; i < n; i++) {			a[i] = in.nextInt();		}		double[] f = new double[n + 1];		f[0] = 0.0;		for (int i = 0; i < n; i++) {			f[i + 1] = (f[i] + 1.0 * a[i] / T) / c;		}		long[] sum = new long[n + 2];		sum[n + 1] = 0;		for (int i = n; i >= 1; i--) {			sum[i] = sum[i + 1] + a[i - 1];		}		int m = in.nextInt();		while (m-- != 0) {			int p = in.nextInt();			double real = 1.0 * (sum[p - T + 1] - sum[p + 1]) / T;			out.printf("%.10f ", real);			out.printf("%.10f ", f[p]);			out.printf("%.10f", Math.abs(f[p] - real) / real);			out.println();		}	}		void run() {		in = new InputReader(System.in);		out = new PrintWriter(System.out);		solve();		out.close();	}		InputReader in;	PrintWriter out;		class InputReader {		BufferedReader br;		StringTokenizer st;				InputReader(InputStream is) {			br = new BufferedReader(new InputStreamReader(is));			st = null;		}				String next() {			while (st == null || !st.hasMoreTokens()) {				try {					st = new StringTokenizer(br.readLine());				} catch (IOException e) {					throw new RuntimeException(e);				}			}			return st.nextToken();		}				int nextInt() {			return Integer.parseInt(next());		}				double nextDouble() {			return Double.parseDouble(next());		}	}		public static void main(String[] args) {		new Main().run();	}}
