import java.util.*;import java.math.*;public class TernaryString{	public static void main(String[] args) 	{		Scanner sc = new Scanner(System.in);		int runs = sc.nextInt();		while(runs-->0)		{			String in = sc.next();			char[] arr = in.toCharArray();			int n = arr.length;			int[] last = new int[]{-n,-n,-n};			int min = Integer.MAX_VALUE;			for(int i = 0;i<arr.length;i++)			{				last[arr[i]-'1']=i;				int dist = 1+i-Math.min(Math.min(last[0],last[1]),last[2]);				min = Math.min(min,dist);			}			System.out.println(min>arr.length?0:min);		}			}}
