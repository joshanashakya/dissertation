n = int(input())s = input()r = 0l = n-1root = []buf = []to_the_right = True for count in range(n):    if to_the_right:        i = r        r += 1    else:        i = l        l -= 1    b = s[i]     if b == '(':        if len(buf) == 0 or buf[-1][0] != -1:            buf.append([-1,-1,[]])        buf[-1][0] = i    else:        if len(buf) == 0 or buf[-1][1] != -1:            buf.append([-1,-1,root])            root = []            to_the_right = False        buf[-1][1] = i            if buf[-1][0] != -1 and buf[-1][1] != -1:        tmp = buf.pop()        if len(buf):            buf[-1][2].append(tmp)        else:            root.append(tmp)            to_the_right = True sol = [[0,1,1]]if len(buf) == 0:            sol.append([len(root), 1, 1])    for child in root:        sol.append([len(child[2])+1, child[0]+1, child[1]+1])        for gr_child in child[2]:            sol.append([len(root)+len(gr_child[2])+1, gr_child[0]+1, gr_child[1]+1])            print('%d\n%d %d'%tuple(max(sol)))
