import java.io.*;import java.util.*;  public  class CodeForce {static	BufferedReader br = new BufferedReader(new InputStreamReader(System.in));static StringBuilder sb = new StringBuilder(); public static int checkreverse(int[][] arr,int n){	if(n%2==1)		return n;		for(int i=n/2-1;i>=0;i--)	{		for(int j=0;j<arr[0].length;j++)		{			if(arr[i][j]!=arr[n-i-1][j])				return n;		}			} return checkreverse(arr,n/2);     	 } 	static boolean flag = false;	 	static int next(String [] sr,int ind)	{		return Integer.parseInt(sr[ind]);	} 	public static void main(String[] args) throws IOException {		 	String[] sr=br.readLine().split(" "); 	int n=next(sr,0);int m=next(sr,1);int[][] arr=new int[n][m];for(int i=0;i<n;i++){sr=br.readLine().split(" ");for(int j=0;j<m;j++)arr[i][j]=next(sr,j);} System.out.println(checkreverse(arr,n));  					}}
