n = int(input())flag = True l = -2e9r = 2e9for i in range(n):    q = input()    ans = q[-1]    if(ans == 'Y'):        ans = True    else:        ans = False        if(q[1]=='='):        num = int(q[3:-2])    else:        num = int(q[2:-2])     # print(num)    if(flag==True):        if(q[0] == '>'):            if(ans==True):                if(q[1]=='='):                    if(l<num):                        l = num                 else:                    if(l<=num):                        l = num+1             else:                if(q[1]=='='):                    if(r>num):                        r= num-1                else:                    if(r>num):                        r= num         else:            if(ans==True):                if(q[1]=='='):                    if(r>num):                        r = num                 else:                    if(r>=num):                        r = num-1             else:                if(q[1]=='='):                    if(l<num):                        l= num+1                else:                    if(l<num):                        l= num    # print("L:",l,"R:",r)    if(l>r):        flag = False     if(r>2e9 or l <-2e9):        flag = False  if(flag ==True):    print(int(l))else:    print("Impossible")
