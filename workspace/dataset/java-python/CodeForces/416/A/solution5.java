import java.util.Scanner; public class GuessANumber {    public static void main(String[] args) {        Scanner sc=new Scanner(System.in);        int t=sc.nextInt();         long min=-2000000000L,max=2000000000L;         while(t-- > 0){            String sign=sc.next();            long n=sc.nextLong();            char ans=sc.next().charAt(0);             switch(sign){                case ">":                    if(ans=='Y'){                        min=Math.max(min,n+1);                    }else{                        max=Math.min(max,n);                    }                    break;                 case "<":                    if(ans=='Y'){                        max=Math.min(max,n-1);                    }else{                        min=Math.max(min,n);                    }                    break;                 case ">=":                    if(ans=='Y'){                        min=Math.max(min,n);                    }else{                        max=Math.min(max,n-1);                    }                    break;                 case "<=":                    if(ans=='Y'){                        max=Math.min(max,n);                    }else{                        min=Math.max(min,n+1);                    }                    break;                                }        }        if(min>max){            System.out.println("Impossible");        }else{            System.out.println(min);        }    }}
