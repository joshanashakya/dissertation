greater = -2000000000smaller = 2000000000n = int(input())for _ in range(n):    a,b,c = input().split()    if a==">=":        if c=="Y":                  greater = max(greater,int(b))        else:            smaller = min(smaller,int(b)-1)    elif a=="<=":        if c=="Y":            smaller = min(int(b),smaller)   #<=3   and   <=5        else:            greater = max(greater,int(b))    elif a==">":        if c=="Y":            greater = max(greater,int(b)+1)        else:            smaller = min(int(b),smaller)    #>6  <=6    elif a=="<":        if c=="Y":            smaller = min(int(b)-1,smaller)   #<5 means >=5        else:            greater = max(greater,int(b))if smaller<greater:    print("Impossible")else:    print(smaller)           
