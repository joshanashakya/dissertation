import java.util.*;public class Sonya {    public static  String func(long x) {          	int i=0;    	String p="";    	 while(x!=0) {    		 if(x%2==0)    			 p="0"+p;    		 else    			 p="1"+p;    		     		 x/=10;    	 }    	 return p;    }    	public static void main(String[] args) {		// TODO Auto-generated method stub           Scanner s=new Scanner(System.in);           Map<Long, Integer> m=new HashMap<>();                      int t=s.nextInt();           long x=0;           String temp="";                      for(int i=0; i<t; i++) {        	   char c=s.next().charAt(0);        	   if(c=='+' || c=='-')        	   {         		  x=s.nextLong();        	     String b=func(x);        	     x=Long.parseLong(b);        	    //System.out.println(x);        	              	     if(c=='+')        	    	 m.put(x, m.getOrDefault(x, 0)+1);        	     else        	    	 m.put(x, m.get(x)-1);        	   }        	   else        	   {   temp=s.next();        	       long comp=Long.parseLong(temp);        	      // System.out.println(comp);        	       if(m.containsKey(comp))        	       System.out.println(m.get(comp));        	       else        	    	   System.out.println(0);         	   }        	}	}Â }
