#! /usr/bin/python3  def remove_contiguous(arr):	left = 0	right = 1	while(right < len(arr)):		while(right < len(arr) and arr[left] == arr[right]):			right += 1		if (right - left >= 3):			del arr[left:right]			modified = True			return arr		left = right		right += 1	return arr  n, k, x = map(int, input().strip().split())c = [int(x) for x in input().strip().split()] ans = 0 for i in range(1, len(c)):	if c[i - 1] == c[i] and c[i] == x:		d = c[:i] + [x] + c[i:]		len_prev = len(d)		while(True):			d = remove_contiguous(d)			if (len_prev == len(d)):				break			len_prev = len(d)		ans = max(ans, n - len(d)) print(ans)
