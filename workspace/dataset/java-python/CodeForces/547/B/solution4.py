n = int(input())ar = list(map(int, input().split()))prev_smaller = [i + 1 for i in range(n)]next_smaller = [n + 1] * nstack = []for index, value in enumerate(ar):    while stack and ar[stack[-1]] >= value:        stack.pop()    if stack:        prev_smaller[index] = stack[-1] + 1    else:        prev_smaller[index] = 0    stack.append(index)# print(*prev_smaller)stack = []for index in range(n - 1, -1, -1):    while stack and ar[stack[-1]] >= ar[index]:        stack.pop()    if stack:        next_smaller[index] = stack[-1] + 1    stack.append(index) # print(*next_smaller)min_elm = min(ar)ans = [min_elm for _ in range(n + 1)]for i in range(n):    sz = next_smaller[i] - prev_smaller[i] - 1    ans[sz] = max(ans[sz], ar[i])for i in range(n - 1, 0, -1):    ans[i] = max(ans[i], ans[i + 1])print(*ans[1:])
