//created by Whiplash99import java.io.*;import java.util.*;public class A{    public static void main(String[] args) throws Exception    {        BufferedReader br=new BufferedReader(new InputStreamReader(System.in));         int i,N;         N=Integer.parseInt(br.readLine().trim());        String[] s=br.readLine().trim().split(" ");        int a[]=new int[N];        for(i=0;i<N;i++) a[i]=Integer.parseInt(s[i]);         int[] prev=new int[N];        int[] next=new int[N];         ArrayDeque<Integer> stack=new ArrayDeque<>();        for(i=0;i<N;i++)        {            while (!stack.isEmpty()&&a[stack.peek()]>a[i])                next[stack.pop()]=i;            stack.push(i);        }        while (!stack.isEmpty()) next[stack.pop()]=N;         for(i=N-1;i>=0;i--)        {            while (!stack.isEmpty()&&a[stack.peek()]>a[i])                prev[stack.pop()]=i;            stack.push(i);        }        while (!stack.isEmpty()) prev[stack.pop()]=-1;         int[] ans=new int[N+1];        for(i=0;i<N;i++)        {            int len=next[i]-prev[i]-1;            ans[len]=Math.max(ans[len],a[i]);        }        for(i=N-1;i>0;i--) ans[i]=Math.max(ans[i],ans[i+1]);         StringBuilder sb=new StringBuilder();        for(i=1;i<=N;i++) sb.append(ans[i]).append(" ");         System.out.println(sb);    }}
