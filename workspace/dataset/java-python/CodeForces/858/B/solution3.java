import java.util.Scanner;import java.util.*; public class Solution { 	public static void main(String[] args) {		boolean debug = false; 		Scanner input = new Scanner(System.in); 		int n = input.nextInt();		int m = input.nextInt(); 		FlatToFloor[] flats = new FlatToFloor[m+1]; 		for(int i=1 ; i <= m; i++) {            flats[i] = new FlatToFloor(input.nextInt(), input.nextInt());        }         int ans = -1;        int cf = -1;        int cf2 = -1;        int countOkay = 0;		for(int j=1; j <=100 ; j++) {            boolean ok = true;		    for(int i=1; i <= m; i++) {                //System.out.println(i + " : " + flats[i].floor + " - " + (flats[i].flat));                int floorMod = ((flats[i].flat) % j ) == 0 ? (flats[i].flat)/j : ((flats[i].flat)/j) +1;                if (flats[i].floor != floorMod) {                    ok = false;                    //System.out.println("YES");                    break;                }            }            if (ok) {		        if (countOkay > 0) {		            cf2 = j;                } else {                    cf = j;                }		        countOkay++;            }        }         //System.out.println(countOkay);         if (cf == -1) {            System.out.println(-1);        } else {            ans = (n/cf);            if (n % cf != 0) ans++;             if (cf2 > 0) {                int ans1 = (n / cf2);                if (n % cf2 != 0) ans1++;                 if (ans1 != ans) {                    ans = -1;                }            }            System.out.println(ans);        }        //	}     static class FlatToFloor { 	    public int flat = -1;	    public int floor = -1; 	    public FlatToFloor(int flat, int floor) {	        this.flat = flat;	        this.floor = floor;        }    }}
