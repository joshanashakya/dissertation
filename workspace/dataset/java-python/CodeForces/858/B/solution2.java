import java.util.Scanner; public class Main {	public static boolean judge(int k,int arr[][],int m) {		for(int i=0;i<m;i++) {			int t = arr[i][0]%k;			if(t == 0) {				if(arr[i][0]/k!=arr[i][1]) {					return false;				}			}else {				if(arr[i][0]/k+1!=arr[i][1]) {					return false;				}			}		}		return true;			}	public static void main(String[] args) {		Scanner scanner=new Scanner(System.in);		String s[] = scanner.nextLine().split(" ");		int n = Integer.parseInt(s[0]);		int m = Integer.parseInt(s[1]);		int arr[][] = new int[m][2];		for(int i=0;i<m;i++) {			s = scanner.nextLine().split(" ");			arr[i][0] = Integer.parseInt(s[0]);			arr[i][1] = Integer.parseInt(s[1]);		}				int res = 0;		for(int i=1;i<=100;i++) {			if(judge(i, arr, m)) {				int temp = n%i==0?n/i:n/i+1;				if(res == 0) {					res = temp;				}				else if(temp!=res) {					System.out.println(-1);					return;				}							}		}		if(res == 0)			res = -1;		System.out.println(res);			} } 		 	  	   		 	  	 	 		 			 		 	
