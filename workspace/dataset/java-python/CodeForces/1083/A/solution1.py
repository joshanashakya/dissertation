#include<bits/stdc++.h>#define x first#define y secondtypedef long long ll;using namespace std;typedef pair<ll, int> P;const ll MOD = 1e9+7;const int maxn = 3e5+10;int n, w[maxn];ll ans, dp[maxn];vector<P> e[maxn];void dfs(int u, int p) {    dp[u] = w[u];    ans = max(ans, 1LL*w[u]);    for (auto v : e[u]) {        if (v.y==p) continue;        dfs(v.y, u);        if (dp[v.y]>v.x) {            ans = max(ans, dp[u]+dp[v.y]-v.x);            dp[u] = max(dp[u], w[u]+dp[v.y]-v.x);        }    }}int main() {    cin >> n;    for (int i = 1; i<=n; ++i) scanf("%d", &w[i]), ans = max(ans, 1LL*w[i]);    for (int i = 1, u, v, w; i<n; ++i) {        scanf("%d%d%d", &u, &v, &w);        e[u].push_back({w, v});        e[v].push_back({w, u});    }    dfs(1, 0);    cout << ans << endl;    return 0;  }		  		 		 	  		   		  			  	  	
