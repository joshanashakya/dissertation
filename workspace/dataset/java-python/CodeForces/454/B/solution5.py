n=int(input()) A=list(map(int,input().split()))for i in range(n-1):    if A[i]>A[i+1]:        #print((n-i-1 if sorted(A)==A[i:]+A[:i] ;else: -1))              #quit()        if sorted(A) == A[i+1:] + A[:i+1]:            print(n-i-1)        else:            print(-1)         quit()print(0)'''n = int(input())a = [*map(int, input().split())]for i in range(n - 1):	if a[i] > a[i + 1]:		print(n - i - 1 if sorted(a) == a[i + 1:] + a[:i + 1] else -1)		quit()print(0)''' 
