n=int(input())l=list(map(int,input().split())) m=l[0]mx=l[0]k=0j=0for i in range(1,n):	if l[i]>mx:		mx=l[i]		k=i	if m<0 or l[i]<m or (l[i]<=m and k>j):		m=l[i]		j=i  flag=0 for i in range(j, n-1):	if flag==1:		break	if l[i+1]<l[i]:		flag=1		break for i in range(j-1):	if flag==1:		break	if l[i+1]<l[i]:		flag=1		break if l[0]<l[n-1] and l[0]>m:	flag=1 if flag==1:	print(-1)elif j==0:	print(j)else:	print(n-j)
