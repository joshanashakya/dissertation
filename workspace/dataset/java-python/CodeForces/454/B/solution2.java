import java.util.*;public class Practice{	public static void main(String[] args) {		Scanner sc = new Scanner(System.in);		int n = sc.nextInt(); 		int[] arr = new int[n];		for (int i = 0; i < n; i++)			arr[i] = sc.nextInt(); 		int k = 0;		for (int i = 0; i < arr.length - 1; i++)		{			if(arr[i] <= arr[i+1])				k++;			else				break;		} 		if(k == arr.length - 1)			System.out.println(0);		else		{			boolean sorted = true;			for (int i = k + 1; i < arr.length - 1; i++)			{				if(arr[i] <= arr[i+1])					continue;				else				{					sorted = false;					break;				}			} 			if(!sorted)				System.out.println(-1);			else			if(arr[0] >= arr[n-1])				System.out.println(n - k - 1);			else				System.out.println(-1);		}	}} 
