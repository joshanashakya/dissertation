import java.util.*; public class LittlePonyAndSortByShift_B { 	public static void main(String[] args) {		// TODO Auto-generated method stu		Scanner sc = new Scanner(System.in);		int n = sc.nextInt();		int arr[] = new int[n];		int index = 0;		boolean check= false;		for(int i = 0; i<n; i++) {			arr[i] = sc.nextInt();			if(i>0 && check == false) {				if(arr[i]<arr[i-1]) {					index = i;					check = true;				}			}		}//		System.out.println(index);		boolean c = true;		int N = n-1;		int pr = index;		int next = pr+1; 		while(N-->0) {			if(next==n) {				next = 0;			}			if(arr[next]<arr[pr]) {//				System.out.println(pr+" "+next);				c = false;				break;			}			pr++;			if(pr==n) {				pr = 0;			}			next = pr+1;					}		if(c) {			if(index==0) {				System.out.println(0);			}			else {				System.out.println(n-index);			}		}		else {			System.out.println(-1);		}				 	} }
