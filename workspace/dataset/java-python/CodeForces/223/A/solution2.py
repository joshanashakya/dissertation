s = input()st, v, vi, vj, vc = [], [], 0, 0, 0for i, c in enumerate(s):    if c in '[(':        st.append(i)        continue    if st and s[st[-1]] + c in ('()', '[]'):        b = (st[-1], i+1)        if v and v[-1][1] == i: v[-1] = b        else: v.append(b)        if len(v) >= 2 and v[-2][1] == v[-1][0]:            v[-2:] = [(v[-2][0], v[-1][1])]        st.pop()    else:        st = []for b in v:    c = s.count('[', b[0], b[1])    if c > vc:        vi, vj, vc = b[0], b[1], cprint(vc)print(s[vi:vj])
