import java.util.*;public class Main{	public static void main(String[] args) {		Scanner in = new Scanner(System.in);		int n = in.nextInt();		int m = in.nextInt();		int c1=0 , c0=0 ; 		for(int i=0 ; i<n ; i++)		{		    int x = in.nextInt();		    if(x==1) c1++;		    else c0++;		}		StringBuilder sb = new StringBuilder();		while(m-->0)		{		    int l = in.nextInt();		    int r = in.nextInt();		    if((r-l+1)%2==0&&c1>=(r-l+1)/2&&c0>=(r-l+1)/2) sb.append(1+"\n");		        else sb.append(0+"\n");		}		System.out.println(sb);	} }
