import java.util.*;public class Main{	public static void main(String[] args) {		Scanner in = new Scanner(System.in);		int n = in.nextInt();		int m = in.nextInt();		ArrayList<Integer> pos=new ArrayList<Integer>();			ArrayList<Integer> neg=new ArrayList<Integer>();		for(int i=0 ; i<n ; i++)		{		    int x = in.nextInt();		    if(x==1)					pos.add(x);				else					neg.add(x);		}		StringBuilder sb = new StringBuilder();		while(m-->0)		{		    int l = in.nextInt();		    int r = in.nextInt();		    if((r-l+1)%2==0&&pos.size()>=(r-l+1)/2&&neg.size()>=(r-l+1)/2) sb.append(1+"\n");		        else sb.append(0+"\n");		}		System.out.println(sb);	} }
