test = int(input())while test:    n = int(input())    p = list(map(int, input().split(" ")))    m = int(input())    q = list(map(int, input().split(" ")))    even1, even2, odd1, odd2 = 0, 0, 0, 0    for i in range(n):        if p[i]%2==0:            even1+=1        else:            odd1+=1    for i in range(m):        if q[i]%2==0:            even2+=1        else:            odd2+=1    print(even1*even2+odd1*odd2)    test-=1
