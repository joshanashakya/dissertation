import java.util.*;Â public class Solution {        public static long MOD = 1_000_000_007;        public static void main(String[] args) {        Scanner in = new Scanner(System.in);        int P = in.nextInt();        int K = in.nextInt();                in.close();                long ans = calc(P, K);        System.out.println(ans);    }        public static long calc(int P, int K) {        if(K == 0) {            return modPow(P, P-1);        }        if(K == 1) {            return modPow(P, P);        }                int count = 0;        boolean[] visited = new boolean[P];        for(int i = 1; i < visited.length; i++) {            if(visited[i]) {                continue;            }                        long j = i;            count++;            while(!visited[(int) j]) {                visited[(int) j] = true;                j = (j * K) % P;            }        }                return modPow(P, count);    }        public static long modPow(long base, long exp) {        base %= MOD;                long ans = 1;                while(exp > 0) {            if(exp % 2 == 1) {                ans = (ans * base) % MOD;            }            base = (base * base) % MOD;            exp >>= 1;        }                return ans;        }}
