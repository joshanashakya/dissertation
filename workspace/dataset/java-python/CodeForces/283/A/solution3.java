import java.util.*;import java.io.*; public class Main {    public static void main(String[] args) throws IOException {        FastScanner in = new FastScanner(System.in);        PrintWriter out = new PrintWriter(System.out);        new Main().run(in, out);        out.close();    }     public static long mod = 17352642619633L;     void run(FastScanner in, PrintWriter out) {         long[] a = new long[200_004];        long[] d = new long[200_004];         int N = in.nextInt();         int ele = 1;        double sum = 0;         while (N-- > 0) {             int t = in.nextInt();            if (t == 1) {                int ai = in.nextInt();                int x = in.nextInt();                d[ai-1] += x;                sum += ai*x;            } else if (t == 2) {                int x = in.nextInt();                a[ele] = x;                sum += x;                ele++;            } else {                 long v = a[ele-1] + d[ele-1];                d[ele-2] += d[ele-1];                d[ele-1] = 0;                a[ele-1] = 0;                sum -= v;                ele--;            }            out.println(String.format("%.8f", sum/ele));        }      }     static class FastScanner {        BufferedReader br;        StringTokenizer st;         public FastScanner(InputStream in) {            br = new BufferedReader(new InputStreamReader(in));            st = null;        }         String next() {            while (st == null || !st.hasMoreElements()) {                try {                    st = new StringTokenizer(br.readLine());                } catch (IOException e) {                    e.printStackTrace();                }            }            return st.nextToken();        }         int nextInt() {            return Integer.parseInt(next());        }         long nextLong() {            return Long.parseLong(next());        }    }}
