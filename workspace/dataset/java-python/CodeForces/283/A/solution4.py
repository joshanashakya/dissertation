#!/usr/bin/env python3# created : 2020. 12. 31. 23:59 import osfrom sys import stdin, stdout  def solve(tc):    n = int(stdin.readline().strip())    k = 1    tot = 0    arr = [0 for i in range(n+1)]    added = [0 for i in range(n+1)]     for i in range(n):        line = list(map(int, stdin.readline().split()))        if line[0] == 1:            added[line[1]-1] += line[2]            tot += line[1]*line[2]        elif line[0] == 2:            arr[k] = line[1]            k += 1            tot += line[1]        else:            k -= 1            added[k-1] += added[k]            tot -= added[k]            tot -= arr[k]            added[k] = 0            arr[k] = 0        print(tot/k)  tcs = 1# tcs = int(stdin.readline().strip())tc = 1while tc <= tcs:    solve(tc)    tc += 1
