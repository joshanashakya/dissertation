import java.io.*;import java.util.*; public class BatchSort {	static int n = 0, m = 0; 	public static boolean check(int arr[][]) { 		for (int i = 0; i < n; i++) {			int count = 0;			for (int j = 0; j < m; j++) {				if (arr[i][j] != (j + 1))					++count;				if (count > 2)					return false;			}		}		return true;	} 	public static void main(String args[]) {		Scanner sc = new Scanner(System.in);		n = sc.nextInt();		m = sc.nextInt();		int arr[][] = new int[n][m];		for (int i = 0; i < n; i++) {			for (int j = 0; j < m; j++)				arr[i][j] = sc.nextInt();		}		if (check(arr)) {			System.out.println("YES");			return;		}		for (int i = 0; i < m - 1; i++) {			for (int j = i + 1; j < m; j++) {				for (int k = 0; k < n; k++) {					int temp = arr[k][i];					arr[k][i] = arr[k][j];					arr[k][j] = temp;				}				if (check(arr)) {					System.out.println("YES");					return;				}				for (int k = 0; k < n; k++) {					int temp = arr[k][i];					arr[k][i] = arr[k][j];					arr[k][j] = temp;				}			}		}		System.out.println("NO");	} }
