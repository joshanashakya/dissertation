import random  def gcd(a, b):    if a == 0:        return b    return gcd(b % a, a)  def lcm(a, b):    return (a * b) / gcd(a, b)  n,m=map(int, input().split())a=[]ans=0for i in range(n):    a.append(list(map(int, input().split())))for i in range(m):    for j in range(i+1, m):        for k in range(n):            t=a[k][i]            a[k][i]=a[k][j]            a[k][j]=t        # for z in a:        #     print(z)        f=0        for r in range(n):            che=1            cnt=0            for c in range(m):                if a[r][c]!=che:                    cnt+=1                che+=1            if cnt>2:                f=1                break        if f==0:            ans=1            break        for k in range(n):            t=a[k][i]            a[k][i]=a[k][j]            a[k][j]=t    if ans==1:        breakf=0for r in range(n):    che=1    cnt=0    for c in range(m):        if a[r][c]!=che:            cnt+=1        che+=1    if cnt>2:        f=1        breakif f==0:    ans=1if ans==1:    print('YES')else:    print('NO')        
