b1,q,l,m=list(map(int,input().split()))a=list(map(int,input().split()))if abs(b1)>l:    print(0)elif b1==0:    if b1 in a:        print(0)    else:        print('inf')elif q==1:    if b1 in a:        print(0)    else:        print('inf')elif q==-1:    if b1 in a and -b1 in a:        print(0)    else:        print('inf')elif q==0:    if 0 not in a:        print('inf')    elif b1 in a:        print(0)    else:        print(1)else:    ans=0    while abs(b1)<=l:        if b1 not in a:            ans=ans+1        b1=b1*q    print(ans)
