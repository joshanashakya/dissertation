#include<iostream> #include<algorithm> using namespace std; const int N=3e5+10,M=1.5e7+10; int primes[N],cnt,p[M/10],me[M];bool st[M];  void get_primes(int x){	for(int i=2;i<=x;i++)	{		if(!st[i]) primes[++cnt]=i;		for(int j=1;j<=cnt && primes[j]*i<=x;j++)		{			st[primes[j]*i]=true;			if(i%primes[j]==0)	break;		}	}} int gcd(int a,int b){	return b?gcd(b,a%b):a;} int main(){	int n,d=0,maxv=0,ce=0;	cin>>n;	for(int i=1;i<=n;i++)	{		scanf("%d",&p[i]);		d=gcd(d,p[i]);	} 	for(int i=1;i<=n;i++)	{		p[i]/=d;		maxv=max(p[i],maxv);		me[p[i]]++;	}	get_primes(maxv);	int ans=0,f;	for(int i=1;i<=cnt;i++)	{		f=0;		int x=primes[i];		for(int j=x;j<=maxv;j+=x) f+=me[j];		ans=max(ans,f);	}	printf("%d\n",(ans==0)?-1:n-ans);	return 0; }  		    		 	 						   		  		 	
