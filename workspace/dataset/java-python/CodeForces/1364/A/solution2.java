import java.util.*;import java.math.*;public class XXXXX{	public static void main(String[] args) 	{		Scanner sc = new Scanner(System.in);		int runs = sc.nextInt();		while(runs-->0)		{			int n = sc.nextInt();			int x = sc.nextInt();			int sum = 0;			int ans = -1;			for(int i = 1;i<=n;i++)			{				if((sum+=sc.nextInt())%x!=0)					ans = Math.max(ans,Math.max(i,n-i));			}			System.out.println(ans);		}	}}
