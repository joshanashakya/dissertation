def longestNonDivisibleSubArray(arr, n, x):    s, individual = 0, True     for i in range(n):        if arr[i] % x !=0:            individual = False        s += arr[i]        if individual:        return -1        if s % x != 0:        return n;     s =0    index = -1    for i in range(n):        s += arr[i]        if s %x!=0:            index = i    prefix = index + 1     s = 0    index = n    for i in range(n-1, -1, -1):        s += arr[i]        if s %x!=0:            index = i    suffix = n - index     return max(prefix, suffix) t = int(input())for i in range(t):    [n, x] = list(map(int, input().split()))    arr = list(map(int, input().split()))    print(longestNonDivisibleSubArray(arr, n, x))
