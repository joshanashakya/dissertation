 import java.util.*;import java.io.*;import java.io.FileInputStream;import java.io.IOException;import java.io.InputStreamReader;import java.util.*;import java.math.*;import java.io.BufferedReader;import java.io.IOException;import java.io.InputStreamReader;import java.util.StringTokenizer; 	 public class sol{    public static void main (String args[])throws IOException{	                	    	  Scanner sc = new Scanner(System.in);  	    	  int t = sc.nextInt();  	    	  while(t --> 0) {  		    		 int n = sc.nextInt();  		   		 int x = sc.nextInt();  	  		 int []ar = new int[n];  		 int sum = 0;  		 for(int i = 0; i < n; i++) {  			 ar[i] = sc.nextInt();  			 sum += ar[i];  		 }  		   		 int max = Integer.MIN_VALUE;   	    int sum1 = sum;  		   		  for(int i = 0; i < n; i++) {  			  if(sum%x != 0) {  				     max = n-i;  				     break;  				  }else {  					  sum -= ar[i];  				  }  			  }  		    		  for(int j = n-1; j >= 0; j--) {  			  if(sum1%x != 0) {  				  if(j+1 > max) {  					  max = j+1;  					  break;  				  }  			  }else {  				  sum1 -= ar[j];  			  }  		  }  		    		  if(max == Integer.MIN_VALUE) {  			  System.out.println(-1);  		  }else {  			 System.out.println(max);  		  }  		  }    }	 }
