def answer(n, x, a):    if sum(a) % x != 0:        return n    #not entire string    lindx = -1    rindx = -1    for i in range(n):        if a[i] % x !=0:            lindx = i            break    for i in range(n-1, lindx, -1):        if a[i] % x != 0:            rindx = i            break    if lindx == -1 or rindx == -1:        return -1     return max(n-(lindx+1), rindx) def main():    t = int(input())    while t:        n, x = [int(i) for i in input().split()]        a = [int(i) for i in input().split()]        print(answer(n, x, a))                t -= 1    returnmain()
