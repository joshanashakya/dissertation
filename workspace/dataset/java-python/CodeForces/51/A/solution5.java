import java.util.ArrayList;import java.util.Scanner;   public class ASD { 	public static void main(String[] args) {		Scanner in = new Scanner(System.in);		int n = in.nextInt();		ArrayList<Domino> dominoes = new ArrayList<Domino>(); 		while (n > 0) {			in.nextLine();			String a = in.nextLine();			String b = in.nextLine();			Domino B = new Domino();			B.a[0] = (int) (a.charAt(0) - '0');			B.a[1] = (int) (a.charAt(1) - '0');			B.a[2] = (int) (b.charAt(1) - '0');			B.a[3] = (int) (b.charAt(0) - '0');			dominoes.add(B); 			for (int i = 0; i < dominoes.size() - 1; i++) {				if (B.is_equal(dominoes.get(i))) {					dominoes.remove(i);				} 			} 			n--;		}		System.out.println(dominoes.size());	} } class Domino {	int[] a = new int[4]; 	boolean is_equal(Domino A) {		for (int i = 0; i < 4; i++) {			if (this.a[i] == A.a[0] && this.a[(i + 1) % 4] == A.a[1] && this.a[(i + 2) % 4] == A.a[2]					&& this.a[(i + 3) % 4] == A.a[3])				return true;		}		return false; 	} }
