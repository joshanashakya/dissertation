import java.util.Arrays;import java.util.Scanner; public class AA { 	public static void main(String[] args) {		int n, temp, min, x;		int c[] = new int[10];		boolean w[] = new boolean[10010];		Arrays.fill(w, false);		Scanner in = new Scanner(System.in);		n = in.nextInt();		for (int i = 0; i < n; i++) {			in.nextLine();			for (int j = 0; j < 4; j += 2) {				String a = in.nextLine();				c[j] = a.charAt(0) - '0';				c[j + 1] = a.charAt(1) - '0';			}			temp = c[2];			c[2] = c[3];			c[3] = temp;			min = 99999;			for (int j = 0; j < 4; j++)				c[j + 4] = c[j];			for (int j = 0; j < 4; j++) {				x = 0;				for (int r = j; r < j + 4; r++) {					x = x * 10 + c[r];				}				if (x < min) {					min = x;				}			}			w[min] = true; 		}		int ans = 0;		for (int i = 0; i <= 9999; i++) {			if (w[i])				ans++;		}		System.out.println(ans); 	} }
