n = int(input())d = {}for i in range(n):    s = ''    found = False    s = input() + input()    if i != n - 1:        input()    t = s[2] + s[0] + s[3] + s[1]    p = s[3] + s[2] + s[1] + s[0]    q = s[1] + s[3] + s[0] + s[2]    for key in d.keys():        for var in d[key].keys():            if s == var:                found = True                d[key][var] += 1    if not found:        d[s] = {}        d[s][s] = 1        d[s][t] = 0        d[s][p] = 0        d[s][q] = 0print(len(d))
