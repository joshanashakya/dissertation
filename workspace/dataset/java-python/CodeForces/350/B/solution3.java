import java.util.LinkedList;import java.util.Scanner;Â public class Main {    public static void main(String[] args) {        Scanner sc = new Scanner(System.in);        int n = sc.nextInt();        int[] parents = new int[n];        int[] k = new int[n];        LinkedList<Integer> hotels = new LinkedList<>();        for (int i = 0; i < n; i++) {            if (sc.nextInt() == 1) {                hotels.add(i);            }        }        for (int i = 0; i < n; i++) {            parents[i] = sc.nextInt() - 1;            if (parents[i] != -1) {                k[parents[i]]++;            }        }        LinkedList<Integer> bestPath = null;        for (int h : hotels) {            LinkedList<Integer> path = new LinkedList<>();            path.addFirst(h);            while (true) {                int prev = parents[path.getFirst()];                if (prev == -1) {                    break;                }                if (k[prev] > 1) {                    break;                }                path.addFirst(prev);            }            if (bestPath == null || bestPath.size() < path.size()) {                bestPath = path;            }        }        System.out.println(bestPath.size());        for (int v : bestPath) {            System.out.print(v + 1 + " ");        }    }}
