import java.util.*;import java.io.*; public class Main4 { 	public static void main(String[] args) {		Scanner sc = new Scanner(System.in);		int objects = sc.nextInt();		int[] types = new int[objects];		for (int i = 0; i < objects; i++) {			types[i] = sc.nextInt();		} 		int[] skiTrack = new int[objects];		int[] count = new int[objects]; 		for (int i = 0; i < objects; i++) {			//to insert skiTrack number into correct index of count			skiTrack[i] = sc.nextInt() - 1;			if (skiTrack[i] != -1) {				count[skiTrack[i]]++;							}		}						/*for(int i = 0; i < skiTrack.length; i++){			System.out.print(skiTrack[i] + " ");		}		System.out.println();		for(int i = 1; i < count.length; i++){			System.out.print(count[i] + " ");		}*/								int max = 0;		int maxindex = 0;				for (int i = 0; i < objects; i++) {			if (types[i] != 0) {				int counter = 1;				int index = i;				while (true) {					int next = skiTrack[index];					if (next == -1 || types[next] == 1 || count[next] > 1) {						break;					}					index = next;					counter++;				}				if (counter > max) {					max = counter;					maxindex = i;				}			}//end big if		}//end for 				//int counting = 0;		int[] track = new int[objects];		track[max - 1] = maxindex; 		for (int i = max - 2; i >= 0; i--) {			track[i] = skiTrack[track[i + 1]];		} 		System.out.println(max);		for (int i = 0; i < max; i++) {			System.out.print((1 + track[i]) + " ");		}		 	}//end main 	}//end class
