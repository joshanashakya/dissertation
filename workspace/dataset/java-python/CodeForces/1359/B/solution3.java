import java.util.Scanner;Â public class Solution {	static Scanner sc = new Scanner(System.in);		public static void main(String[] args) {		int t = sc.nextInt();		int[] answers = new int[t];				for (int i = 0; i < t; i++) {			int n, m, x, y, totalCost = 0;			n = sc.nextInt(); m = sc.nextInt(); x = sc.nextInt(); y = sc.nextInt();			sc.nextLine();						for (int j = 0; j < n; j++) {				String input = sc.nextLine();				for (int k = 0, whites = 0; k <= m; k++)					if (k == m || input.charAt(k) == '*') {						if ((y / 2.0f) < x) totalCost += ((whites / 2) * y + (whites % 2) * x);						else totalCost += (whites * x);												whites = 0;					} else whites++;			}						answers[i] = totalCost;		}				for (int answer : answers)			System.out.println(answer);	}}
