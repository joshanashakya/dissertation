def solver():    passÂ T = int(input())for _ in range(T):    n,m,x,y = [int(x) for x in input().split()]    stones = []    for _ in range(n):        stones.append(input())    ans = 0    if 2*x <= y:        ans = 0        for s in stones:            n = list(s).count(".")            ans += (n*x)        print(ans)    else:        ans = 0         for s in stones:            arr = s.split("*")            for v in arr:                if len(v) == 0:                    continue                else:                    n = len(v)                    ans += (n//2) * y                    ans += (n%2) * x        print(ans)
