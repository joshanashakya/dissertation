import java.util.*; public class Solve {     static Scanner scan = new Scanner(System.in);     public static int ceil(int x,int y){        return (x+y-1)/y;    }     public static void solve(int n,int m,int k){         if(m==0){            System.out.println(0);        }        else if(m<(n/k)){            System.out.println(m);        }        else{            int val = m - (n/k);            m -= (n/k);            int left = ceil(m,(k-1));            System.out.println((n/k)-left);        }    }     public static void main(String[] args) {         int t = scan.nextInt();        while (t-->0){            int n = scan.nextInt();            int m = scan.nextInt();            int k = scan.nextInt();             solve(n,m,k);        }    }}
