import java.util.*;public class Solution{    public static void main(String[] args){        Scanner in=new Scanner(System.in);        int n=in.nextInt();        int m=in.nextInt();        int min=Integer.MAX_VALUE;        for(int i=0;i<m;i++){            int j=in.nextInt();            int k=in.nextInt();            int ans=k-j+1;            if(ans<min) min=ans;        }        System.out.println(min);        for(int i=0;i<n;i++){            System.out.print((i%min) +" ");        }    }}
