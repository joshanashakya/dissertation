#include<iostream>#include<algorithm>#include<string>#include<cmath>#include<cstdio>#include<vector>#include<queue>#include<stack>#include<set>#include<map>Â using namespace std;typedef long long ll;typedef double db;#define inf 0x3f3f3f3f#define IOS ios::sync_with_stdio(0); cin.tie(0); cout.tie(0);ll a[112345];ll b[112345];int main() {	ll n, m, i, j;	cin >> n >> m;	for (i = 0; i < m; ++i) {		cin >> a[i] >> b[i];	}	ll mex = b[0] - a[0] + 1;	for (i = 0; i < m; ++i) {		mex = min(mex, b[i] - a[i] + 1);	}	cout << mex << endl;	for (i = 0; i < n; ++i)cout << i % mex << " ";	cout << endl;	return 0;}	  	   	 	 	  		 		  		 	 		
