import java.util.Scanner; public class MagicMatrix {    public static void main(String[] args) {        Scanner scanner = new Scanner(System.in);         int n = scanner.nextInt();         if(n == 1) {            System.out.println(1);            return;        }        Long[][] pos = new Long[n][n];        int x = -1,y = -1;         long[] sum = new long[n];         for (int i = 0; i < n; i++) {            for (int j = 0; j < n; j++) {                pos[i][j] = scanner.nextLong();                sum[i] += pos[i][j];                if(pos[i][j] == 0){                    x = i;                    y = j;                }            }        }         long ans;         if(x == 0) ans = sum[1] - sum[0];        else ans = sum[0] - sum[x];         pos[x][y] = ans;        sum[x] += ans;         for (int i = 1; i < n; i++) {            if(sum[i] != sum[0]){                System.out.println(-1);                return;            }        }         long check = sum[0];        sum = new long[n];         long diag1 = 0, diag2 = 0;         for (int i = 0; i < n; i++) {            for (int j = 0; j < n; j++) {             sum[j] += pos[i][j];              if(i == j) diag1 += pos[i][j];             if(i +j == n - 1) diag2 += pos[i][j];            }        }         if(diag1 != check || diag2 != check) {            System.out.println(-1);            return;        }         for (int i = 0; i < n; i++) {            if(sum[i] != check){                System.out.println(-1);                return;            }        }         if(ans <= 0) ans = -1;        System.out.println(ans);    }}
