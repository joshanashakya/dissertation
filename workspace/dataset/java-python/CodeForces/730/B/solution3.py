import sys def f(arr):    mn, mx = [], []    for i in range(len(arr) // 2):        print('?', arr[2*i], arr[2*i + 1])        sys.stdout.flush()        if input() == '>':            mn.append(arr[2*i + 1])            mx.append(arr[2*i])        else:            mn.append(arr[2*i])            mx.append(arr[2*i + 1])    if len(arr) % 2 == 1:        mn.append(arr[-1])        mx.append(arr[-1])    return (mn, mx)  for _ in range(int(input())):    n = int(input())    arr = range(1, n+1)    mn, mx = f(arr)    while len(mn) > 1:        mn = f(mn)[0]    while len(mx) > 1:        mx = f(mx)[1]    print('!',mn[0],mx[0])    sys.stdout.flush()    # Made By Mostafa_Khaled
