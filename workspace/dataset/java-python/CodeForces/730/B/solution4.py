from sys import * def f(t):    n = len(t)    k = n >> 1    u, v = [], []    if n & 1: u, v = [t[-1]], [t[-1]]    for i in range(k):        print('?', t[i], t[k + i])        stdout.flush()        q = k * (input() == '<')        u.append(t[k - q + i])        v.append(t[q + i])    return u, v for i in range(int(input())):    u, v = f(range(1, int(input()) + 1))    while len(u) > 1: u = f(u)[0]    while len(v) > 1: v = f(v)[1]    print('!', u[0], v[0])    stdout.flush()
