import java.io.*;import java.util.*;public class B {	public static void main(String[] args) throws Throwable {		BufferedReader br=new BufferedReader(new InputStreamReader(System.in));		PrintWriter pw=new PrintWriter(System.out,true);		Scanner sc=new Scanner(System.in);		int t=sc.nextInt();		while(t-->0){			int n=sc.nextInt();			int min=1,max=n;			if(n>1){				pw.printf("? %d %d\n",1,n);				pw.flush();				char c=sc.next().charAt(0);				if(c=='>'){					min=n;					max=1;				}				int s=2,e=n-1;				while(s<=e){					int min1=s,max1=e;					if(s!=e){						pw.printf("? %d %d\n",s,e);						pw.flush();						c=sc.next().charAt(0);						if(c=='>'){							min1=e;							max1=s;						}					}					pw.printf("? %d %d\n",min1,min);					pw.flush();					c=sc.next().charAt(0);					if(c=='<')						min=min1;					pw.printf("? %d %d\n",max1,max);					pw.flush();					c=sc.next().charAt(0);					if(c=='>')						max=max1;					s++;					e--;				}			}			pw.printf("! %d %d\n",min,max);			pw.flush();		}		pw.flush();		pw.close();	}}
