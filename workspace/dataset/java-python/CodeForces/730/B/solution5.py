import sysT = int(input())def compare(l,r,arr):    print('?',a[l]+1,a[r]+1)    sys.stdout.flush()    res = input()    if (res == '>'):   return 1;    else:   return 0; while (T > 0):    T -= 1    Max_a = []    Min_a = []    n = int(input())    a = range(n)    for i in range(int(n/2)):        if (compare(i*2,i*2+1,a) > 0):             Max_a.append(i*2)             Min_a.append(i*2+1)        else :            Max_a.append(i*2+1)            Min_a.append(i*2)    if (n%2 == 1):        Max_a.append(n-1)        Min_a.append(n-1)    Max_index = Max_a[-1]    Min_index = Min_a[-1]    for i in range(len(Max_a)-1):        if (compare(Max_a[i],Max_index,a) > 0):            Max_index = Max_a[i]    for i in range(len(Min_a)-1):        if (compare(Min_a[i],Min_index,a) == 0):            Min_index = Min_a[i]    print('!',Min_index+1,Max_index+1)    sys.stdout.flush()       
