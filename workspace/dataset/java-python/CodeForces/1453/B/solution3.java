import java.io.*;import java.util.*; public class SuffixOperations {		public static void main (String[] args) throws IOException {				InputStreamReader ir = new  InputStreamReader(System.in);	        BufferedReader br = new BufferedReader(ir);	        int test = Integer.parseInt(br.readLine());	        for(int cas=1;cas<=test;cas++)	        {	           	             String[] line1 = br.readLine().split(" ");	            int n = Integer.parseInt(line1[0]);	            int arr[] = new int[n];	            long sum = 0 ; 	            String[] line2 = br.readLine().split(" ");	            for(int i=0;i<n;i++)	            {	              arr[i]= Integer.parseInt(line2[i]);	              if(i>0)	            	  sum+=Math.abs(arr[i]- arr[i-1]);	               }	      	            long max1 = Math.abs(arr[1]-arr[0]); int ind =0;	         	            for(int i =1; i<n-1; i++)	            {	            		          	            	if(max1< (Math.abs(arr[i]-arr[i-1])+ Math.abs(arr[i+1]-arr[i])-	            			Math.abs(arr[i+1]-arr[i-1])))	            	{	            		            		max1 = Math.abs(arr[i]-arr[i-1])+ Math.abs(arr[i+1]-arr[i])- 	            				Math.abs(arr[i+1]-arr[i-1]);	            		ind = i ; 	            	}	            		            }	            	            if(max1<Math.abs(arr[n-1]-arr[n-2]))	            		ind = n-1; 	    	            if(ind==0)	            {	            	sum-= Math.abs(arr[0]- arr[1]);	            		            }	            else if(ind==n-1)	            {	            	sum-= Math.abs(arr[n-1]- arr[n-2]);	            }	            else	            {	            	sum=sum -  Math.abs(arr[ind]-arr[ind-1])- Math.abs(arr[ind+1]-arr[ind])+	            			Math.abs(arr[ind+1]-arr[ind-1]);	            }	            System.out.println(sum);	        }	}	 }
