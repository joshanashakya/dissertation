from collections import dequeimport osfrom io import BytesIO  input = BytesIO(os.read(0, os.fstat(0).st_size)).readline def main():    n,m,q = map(int,input().split())    mn = m + n    cr = [[] for i in range(mn)]    ca = [-1]*(mn)    for i in range(q):        ri,ci = map(int,input().split())        ri -= 1        ci -= 1        cr[ci] += [ri+m]        cr[ri+m] += [ci]     ans = -1    for i in range(mn):        if ca[i] != -1:            continue        ca[i] = 1        stack = deque()        for j in cr[i]:            stack.append(j)            ca[j] = 0         while len(stack) != 0:            temp = stack.pop()            for j in cr[temp]:                if ca[j] == -1:                    ca[j] = 0                    stack.append(j)         ans += 1    print(ans)main()
