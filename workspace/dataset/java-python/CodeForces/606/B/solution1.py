x, y, x0, y0 = list(map(int, input().split()))s = input()x0 -= 1y0 -= 1k = [1]summa = 1a = [[0]*(y) for i in range(x)]a[x0][y0] = 1for i in s:    if i == "U":        x0 = max(x0-1, 0)    elif i == "D":        x0 = min(x0+1, x-1)    elif i == "R":        y0 = min(y0+1, y-1)    else:        y0 = max(y0-1, 0)    if a[x0][y0]:        k.append(0)    else:        a[x0][y0] = 1        k.append(1)        summa += 1k[-1] += x*y - summaprint(' '.join(str(i) for i in k))
