X,Y,x,y = map(int,input().split())s = list(input()) dir = {'U':(-1,0),'D':(1,0),'L':(0,-1),'R':(0,1)}field = [[1]*Y for i in range(X)] x -= 1y -= 1for c in s:    print(field[x][y])    field[x][y] = 0    x += dir[c][0]    y += dir[c][1]    if x < 0:        x = 0    if x >= X:        x = X-1    if y < 0:        y = 0    if y >= Y:        y = Y-1 print(sum(sum(field[i]) for i in range(X)))
