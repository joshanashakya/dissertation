import java.io.BufferedReader;import java.io.IOException;import java.io.InputStreamReader;import java.io.PrintWriter;import java.util.StringTokenizer;Â public class WorkFile {    public static void main(String[] args) throws IOException {        BufferedReader reader = new BufferedReader(new InputStreamReader(System.in));        int n = Integer.parseInt(reader.readLine());        StringTokenizer sToken = new StringTokenizer(reader.readLine());        int[] arr = new int[n];        int[] ones = new int[n];        int one = 0;        for (int i=0; i<n; i++) {            arr[i] = Integer.parseInt(sToken.nextToken());            if (arr[i]==1) one++;            ones[i] = one;        }        int[] twos = new int[n];        int two = 0;        for (int i=n-1; i>-1; i--) {            if (arr[i]==2) two++;            twos[i] = two;        }        int ans = Math.max(one, two);        for (int i=0; i<n-1; i++) {            if (arr[i]==2 && arr[i+1]==1) {                int a = 0, maxleft = 0;                for (int j=i; j>-1; j--) {                    if (arr[j]==2) a++;                    else a--;                    maxleft = Math.max(maxleft, a);                }                int b = 0, maxright = 0;                for (int j=i+1; j<n; j++) {                    if (arr[j]==1) b++;                    else b--;                    maxright = Math.max(maxright, b);                }                ans = Math.max(ans, ones[i]+maxright+twos[i+1]+maxleft);            } else ans = Math.max(ans, ones[i]+twos[i+1]);        }        PrintWriter writer = new PrintWriter(System.out);        writer.print(ans);        writer.close();    }}
