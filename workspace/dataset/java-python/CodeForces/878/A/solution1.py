n = int(input()) i0 = 0i1 = 1023 for i in range(n):    (cmd, ks) = input().split()    k = int(ks)    if cmd == '&':        i0 &= k        i1 &= k    elif cmd == '|':        i0 |= k        i1 |= k    elif cmd == '^':        i0 ^= k        i1 ^= k xor_i = 0or_i = 0and_i = 1023 for i in range(10):    b0 = (i0 >> i) & 1    b1 = (i1 >> i) & 1        if b0 == 1 and b1 == 0:        xor_i |= 1 << i    if b0 == 1 and b1 == 1:        or_i |= 1 << i    if b0 == 0 and b1 == 0:        and_i &= ~(1 << i) shortened = []if xor_i != 0:    shortened.append('^ ' + str(xor_i))if or_i != 0:    shortened.append('| ' + str(or_i))if and_i != 1023:    shortened.append('& ' + str(and_i)) print(len(shortened))print("\n".join(shortened))
