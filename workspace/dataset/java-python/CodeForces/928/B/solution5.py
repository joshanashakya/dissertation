n,m = map(int,input().split())l = list(map(int,input().split()))dp =[0]*ndp[0] = min(m+1,n)print(dp[0],end = " ")for i in range(1,n):    if l[i] == 0:        v2 = min(n - 1, i + m)        v1 = max(0, i - m)        dp[i] = v2-v1+1        print(dp[i], end=" ")        continueÂ     v2 = min(n-1,i+m)    v1 = max(0,i-m)    v3 = max(0,l[i]-1-m)    v4 = min(n-1,l[i]-1+m)    dp[i] = dp[l[i]-1]+(v2-v1+1)-max(0,min(v2,v4)-max(v1,v3)+1)    print(dp[i], end=" ")
