import java.util.ArrayList;import java.util.List;import java.util.Scanner; public class ZadachaB {    static List<Integer> messages;    static int n;    static int k;     public static void main(String[] args) {        Scanner sc = new Scanner(System.in);        n = sc.nextInt();        k = sc.nextInt();        sc.nextLine();        messages = new ArrayList<>();        messages.add(Integer.MIN_VALUE);         for (int i = 1; i <= n; i++) {            int num = sc.nextInt();            if (num == 0) {                messages.add(getC(i));            } else {                messages.add(getCNonZero(i, num));            }            if (i != n)                System.out.print(messages.get(i) + " ");            else                System.out.print(messages.get(i));        }    }     private static int getC(int x) {        if (k == 0)            return 1;        int l = Math.max(1, x - k);        int r = Math.min(n, x + k);        return r - l + 1;    }     private static int getCNonZero(int x, int z) {        int ans = messages.get(z);        int lZan = Math.max(1, z - k);        int rZan = Math.min(n, z + k);         int l = Math.max(1, x - k);        int r = Math.min(n, x + k);         if (rZan >= l)            l = rZan + 1;         return ans + (r - l) + 1;    }}
