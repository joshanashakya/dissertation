import java.util.*; public class Chat {     public static void main(String[] args) {        // TODO code application logic here        Scanner scan = new Scanner(System.in);        int n = scan.nextInt();        int k = scan.nextInt();        int a[] = new int[n + 1];        for (int i = 1; i <= n; i++) {            a[i] = scan.nextInt();        }        int cnt[] = new int[n + 1];        for (int i = 1; i <= n; i++) {            if (a[i] == 0) {                //addd y-k to y+k                   if (i - k > 0) {                    if (i + k <= n) {                        cnt[i] = (i + k) - (i - k) + 1;                    } else {                        cnt[i] = (n) - (i - k) + 1;                    }                } else {                    if (i + k <= n) {                        cnt[i] = (i + k) - (0) ;                    } else {                        cnt[i] = (n) - (0);                    }                }             } else {                cnt[i] = cnt[a[i]];           //add link z-k to z+k t                 // then add y-k to y+k withoud range in z-k to  y + k                if (i - k > a[i] + k) {                    // direct add all possible of y                    if (i - k >= 0) {                        if (i + k <= n) {                            cnt[i] += (i + k) - (i - k) + 1;                        } else {                            cnt[i] += (n) - (i - k) + 1;                        }                    } else {                        if (i + k <= n) {                            cnt[i] += (i + k) - (0) + 1;                        } else {                            cnt[i] += (n) - (0) + 1;                        }                    }                 } else {                                        int sub = 0;                    if (i + k <= n) {                        if (a[i] + k <= n) {                            sub = (i + k) - (a[i] + k);                        }                    } else {                        if (a[i] + k < n) {                            sub = (n) - (a[i] + k) ;                        }                    }                    cnt[i]+=sub;                }             }                     }        for(int i=1;i<=n;i++) {            System.out.print(cnt[i]+" ");        }             } }
