n, k = map(int, input().split())p = list(map(int, input().split()))arr_d = [0 for _ in range(n)]for i in range(len(p)):    l_space = k if i - k >= 0 else i    r_space = k if i + k < len(p) else abs(len(p) - i - 1)    arr_d[i] += l_space + r_space + 1    if p[i] != 0:        arr_d[i] += arr_d[p[i] - 1]        link_r_pos = p[i] - 1 + k if p[i] - 1 + k < len(p) else len(p) - 1        now_l_pos = i - l_space        if link_r_pos >=  now_l_pos:            arr_d[i] -= abs(link_r_pos -  now_l_pos) + 1print(*arr_d)
