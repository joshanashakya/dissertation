#include <iostream>#include <vector>#include <algorithm>#include <string>using namespace std; void solve() {    int r, c;    cin >> r >> c;     vector<vector<char>> mat(r);        int ans = 5;     for (int i = 0; i < r; i++) {        mat[i].resize(c);    }     for (int i = 0; i < r; i++) {        string s;        cin >> s;        for (int j = 0; j < c; j++) {            mat[i][j] = s[j];        }    }    int count_rows = 0;     for (int i = 0; i < r; i++) {        int row = true;        for (int j = 0; j < c; j++) {            if (mat[i][j] == 'P')                row = false;            else {                if (j == 0 || j == c-1) {                    if (i == 0 || i == r-1) {                        ans = min(ans, 2);                    }                    else {                        ans = min(ans,3);                    }                }                else {                    ans = min(ans,4);                }            }        }        if (row) {            count_rows++;            if (i == 0 || i == r - 1) {                ans = min(ans,1);            }            else {                ans = min(ans,2);            }        }    }     if (count_rows == r)        ans = 0;     for (int j = 0; j < c; j++) {        int col = true;        for (int i = 0; i < r; i++) {            if (mat[i][j] == 'P')                col = false;            else {                if (i == 0 || i == r-1) {                    if (j == 0 || j == c-1) {                        ans = min(ans, 2);                    }                    else {                        ans = min(ans,3);                    }                }                else {                    ans = min(ans,4);                }            }        }        if (col) {            if (j == 0 || j == c - 1) {                ans = min(ans, 1);            }            else {                ans = min(ans, 2);            }        }    }    if (ans == 5) {        cout << "MORTAL" << endl;    }    else {        cout << ans << endl;    }} int main(){    int t;    cin >> t;     while (t--)        solve();     return 0;}
