import java.util.*; public class Main{    static int n ,m;    public static int firstRowstep(int a[][],int x, int y)    {        int stepcount=0;    int  count=0;              for (int i = 1; i <=x; i++) {            for (int j = y+1; j <=m; j++) {                            if(a[i][j]==0)                    count++;            }                    }                        if(count>0)                {                    stepcount++;                }                  count=0;              for (int i = x+1; i <=n; i++) {            for (int j = y; j <=m; j++) {                if(a[i][j]==0)                    count++;            }                   }               if(count>0)        {            stepcount++;        }                return stepcount;    }     public static int firstColstep(int a[][],int x, int y)    {        int stepcount=0;    int  count=0;    for (int i = x; i <=n; i++) {            for (int j = 1; j <=y; j++) {                if(a[i][j]==0)                    count++;            }                   }                      if(count>0)                {                    stepcount++;                }                count=0;                  count=0;              for (int i = x; i <=n; i++) {            for (int j = y+1; j <=m; j++) {                if(a[i][j]==0)                    count++;            }                   }               if(count>0)        {            stepcount++;        }                                                                       return stepcount;    }      public static int lastRowstep(int a[][],int x, int y)    {        int stepcount=0;        int count=0;      for (int i = 1; i <=x; i++) {            for (int j = 1; j <=y; j++) {                if(a[i][j]==0)                    count++;            }                              }                                if(count>0)                {                    stepcount++;                }                count=0;                for (int i = 1; i <=x; i++) {            for (int j = y+1; j <=m; j++) {                            if(a[i][j]==0)                    count++;            }                    }                        if(count>0)                {                    stepcount++;                }                                      return stepcount;    }      public static int lastColstep(int a[][],int x, int y)    {        int stepcount=0;        int count=0;                     for (int i = 1; i <=x; i++) {            for (int j = 1; j <=y; j++) {                if(a[i][j]==0)                    count++;            }                              }                                if(count>0)                {                    stepcount++;                }                count=0;                      count=0;                for (int i = x+1; i <=n; i++) {            for (int j = 1; j <=y; j++) {                if(a[i][j]==0)                    count++;            }                   }                      if(count>0)                {                    stepcount++;                }                count=0;                 return stepcount;    }        public static int step(int a[][],int x,int y)    {        int stepcount=0;                int count=0;                for (int i = 1; i <=x; i++) {            for (int j = 1; j <=y; j++) {                if(a[i][j]==0)                    count++;            }                              }                                if(count>0)                {                    stepcount++;                }                count=0;              for (int i = 1; i <=x; i++) {            for (int j = y+1; j <=m; j++) {                            if(a[i][j]==0)                    count++;            }                    }                        if(count>0)                {                    stepcount++;                }                count=0;                for (int i = x+1; i <=n; i++) {            for (int j = 1; j <=y; j++) {                if(a[i][j]==0)                    count++;            }                   }                      if(count>0)                {                    stepcount++;                }                count=0;              for (int i = x+1; i <=n; i++) {            for (int j = y+1; j <=m; j++) {                if(a[i][j]==0)                    count++;            }                   }               if(count>0)        {            stepcount++;        }                        return stepcount;    }     public static void main(String[] args)    {        Scanner input = new Scanner(System.in);        n = input.nextInt();        m = input.nextInt();        int a[][] = new int[n+1][m+1];               for (int i = 1; i <=n; i++) {            for (int j = 1; j <=m; j++) {                a[i][j] = input.nextInt();            }        }        int x,y;        int min  = Integer.MAX_VALUE;                for (int i = 1; i <=n; i++) {            for (int j = 1; j <=m; j++) {                if(a[i][j]==1&&i==1)                {                     min = Math.min(min, firstRowstep(a,i,j));                                    }                else if (a[i][j]==1&&j==1)                {                    min = Math.min(min, firstColstep(a,i,j));                }                else if(a[i][j]==1&&i==n)                {                    min = Math.min(min, lastRowstep(a,i,j));                }                else if(a[i][j]==1&&j==m)                {                    min = Math.min(min, lastColstep(a,i,j));                }                else if(a[i][j]==1)                {                    min = Math.min(min, step(a,i,j));                }            }        }        System.out.println(min);             } }
