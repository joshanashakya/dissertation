n, v = map(int, input().split())boat_list = []for _ in range(n):    t, p = map(int, input().split())    boat_list.append([t, p]) boat1 = []boat2 = []for i in range(n):    if boat_list[i][0] == 1:        boat1.append([boat_list[i][1], i + 1])    else:        boat2.append([boat_list[i][1], i + 1])boat1 = list(sorted(boat1, key = lambda x: x[0]))boat2 = list(sorted(boat2, key = lambda x: x[0])) p1 = len(boat1) - 1p2 = len(boat2) - 1cv = vfinal_p = 0 while p1 >= 0:    final_p += boat1[p1][0]    p1 -= 1    cv -= 1    if cv == 0:        break if cv > 0:    while cv - 2 >= 0 and p2 >= 0:        final_p += boat2[p2][0]        p2 -= 1        cv -= 2 while True:    if p1 <= len(boat1) - 3 and p2 >= 0:        if boat1[p1 + 1][0] + boat1[p1 + 2][0] < boat2[p2][0]:            final_p = final_p - boat1[p1 + 1][0] - boat1[p1 + 2][0] + boat2[p2][0]            p1 += 2            p2 -= 1        else:            break    else:        break if cv == 1:    if p1 >= 0:        final_p += boat1[p1][0]        p1 -= 1        cv -= 1        if p2 >= 0 and p1 + 1 < len(boat1) and cv == 1:        if boat1[p1 + 1][0] < boat2[p2][0]:            final_p = final_p - boat1[p1 + 1][0] + boat2[p2][0]            p2 -= 1            p1 += 1            cv -= 1        elif p2 >= 0 and p1 + 2 < len(boat1) and cv == 0:        if boat1[p1 + 1][0] + boat1[p1 + 2][0] < boat2[p2][0]:            final_p = final_p - boat1[p1 + 1][0] - boat1[p1 + 2][0] + boat2[p2][0]            p1 += 2            p2 -= 1 print(final_p)for b1 in range(p1 + 1, len(boat1)):    print(str(boat1[b1][1]) + ' ', end = '')for b2 in range(p2 + 1, len(boat2)):    print(str(boat2[b2][1]) + ' ', end = '')
