n, m, k = map(int, input().split()) a = set(map(int, input().split())) A = [[0 for i in range(n+1)] for i in range(n+1)]visited = [0 for i in range(n+1)] for i in range(m):    u, v = map(int, input().split())    A[u][v] = 1    A[v][u] = 1 e = 0 def dfs(u):    global e    global v    visited[u] = 1        e += 1            for i in range(1, n+1):        if A[u][i] == 1 and visited[i] == 0:                dfs(i)     return max_e = 0ans = 0 for u in a:    e = 0    dfs(u)    ans += e*(e-1)//2    max_e = max(max_e, e)    k = 0    for i in range(1, n+1):    if visited[i] == 0:        e = 0        dfs(i)        k += e        ans += (max_e*k + k*(k-1)//2)ans -= m print(max(ans, 0))
