store = []maxes = [0]def s(nums, M):    p = 1    for num in nums:        p = p*((1+num)%M)%M        if p == 0:            return M-1    return (p-1)%Mi = 0while 2**i<=10**9:    store.append(2**i)    maxes.append(2**(i+1)-1)    i+=1        T = int(input())for t in range(T):    d,m = [int(i) for i in input().split()]    ans = []    for i in range(1,len(maxes)):        if maxes[i]<=d:            ans.append(maxes[i]-maxes[i-1])        else:            if d!=maxes[i-1]:                ans.append(d-maxes[i-1])            break    final = s(ans,m)    print(final)
