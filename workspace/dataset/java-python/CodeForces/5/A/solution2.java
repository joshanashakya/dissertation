import java.util.HashSet;import java.util.Scanner; public class Main {    public static void main(String[] args) {        Scanner in = new Scanner(System.in);        String str;        HashSet<String> set = new HashSet<String>();        int ans = 0;        while(in.hasNextLine()) {             str = in.nextLine();            if(str.isEmpty()) break;            if (str.charAt(0) == '+' || str.charAt(0) == '-') {                String res = "";                int m_id = 0;                for (int i = 1; i < str.length(); i ++) {                    if(str.charAt(i) == ':') {                        m_id = i;                        break;                    }                    res += str.charAt(i);                }                if(str.charAt(0) == '+') set.add(res);                if(str.charAt(0) == '-') set.remove(res);            }            else {                String res = "";                int m_id = 0;                for (int i = 1; i < str.length(); i ++) {                    if(str.charAt(i) == ':') {                        m_id = i;                        break;                    }                }                ans += (str.length() - m_id - 1)* set.size();            }         }        System.out.println(ans);    }}/*  import java.util.HashSet;        import java.util.Scanner; public class Main {    public static void main(String[] args) {        int d, sum_time;        int min[] = new int[100];        int max[] = new int[100];        int total[] = new int[100];         int sum = 0;        Scanner in = new Scanner(System.in);        d = in.nextInt();        sum_time = in.nextInt();        for(int i = 1; i <= d; i++) {            min[i] = in.nextInt();            max[i] = in.nextInt();            sum += max[i];        }        if(sum < sum_time) {            System.out.println("NO");        }        else {            System.out.println("YES");            int num;            for (int i = 1; i <= d; i++) {                if(sum_time - min[i] < sum) {                    num = min[i];                    sum_time -= num;                    sum -= max[i];                }                else {                    num = sum_time-sum;                    sum_time -= num;                    sum -= max[i];                }                System.out.println(num + " ");            }         }     }}*/   	  				 		   	 	  	  		  				
