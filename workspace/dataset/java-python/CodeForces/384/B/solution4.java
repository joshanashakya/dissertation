import java.util.*;import java.io.*;import java.math.*;public class Euler {	    public static void main(String[] args){        FastReader in = new FastReader();        PrintWriter o = new PrintWriter(System.out);                int n = in.nextInt();        int m = in.nextInt();        int k = in.nextInt();                int[][] arr = new int[n][m];        for (int i = 0; i < n; i++) for (int j = 0; j < m; j++) arr[i][j] = in.nextInt();                if (k == 0) {			long total = (m * (m - 1)) / 2;			o.println(total);			for (int i = 0; i < m; i++) {				for (int j = i + 1; j < m; j++) {					o.println((i + 1) + " " + (j + 1));				}			}		} else {			long total = (m * (m - 1)) / 2;			o.println(total);			for (int i = m - 1; i >= 0; i--) {				for (int j = i - 1; j >= 0; j--) {					o.println((i + 1) + " " + (j + 1));				}			}		}                                                o.close();        o.flush();        return;    }            static final Random random=new Random();     static void ruffleSort(int[] a) {		int n=a.length;//shuffle, then sort 		for (int i=0; i<n; i++) {			int oi=random.nextInt(n), temp=a[oi];			a[oi]=a[i]; a[i]=temp;		}		Arrays.sort(a);	}       	    static class FastReader {        BufferedReader br;        StringTokenizer st;         public FastReader() {            br = new BufferedReader(new InputStreamReader(System.in));        }         String next() {            while (st == null || !st.hasMoreElements()) {                try {                    st = new StringTokenizer(br.readLine());                } catch (IOException e) {                    e.printStackTrace();                }            }            return st.nextToken();        }         int nextInt() {            return Integer.parseInt(next());        }         long nextLong() {            return Long.parseLong(next());        }         double nextDouble() {            return Double.parseDouble(next());        }                int[] readArray(int n) {            int[] a = new int[n];            for (int i = 0; i < n; i++) a[i] = nextInt();            return a;        }         long[] readLongArray(int n) {            long[] a = new long[n];            for (int i = 0; i < n; i++) a[i] = nextLong();            return a;        }         String nextLine() {            String str = "";            try {                str = br.readLine();            } catch (IOException e) {                e.printStackTrace();            }            return str;        }    }  }
