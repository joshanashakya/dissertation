from collections import *import sys  input=sys.stdin.readline # "". join(strings)      def ri():    return int(input()) def rl():    return list(map(int, input().split()))    n, m, k = rl()AA = []for _ in range(n): 	AA.append(rl())print((m * (m- 1))//2)if k == 0:	for i in range(1, m + 1):		for j in range(i + 1, m + 1):			print(i, j)else:	for i in range(1, m + 1):		for j in range(i + 1, m + 1):			print(j, i)  
