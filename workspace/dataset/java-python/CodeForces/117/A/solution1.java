import java.io.BufferedReader;import java.io.InputStreamReader;import java.io.PrintWriter;import java.math.BigDecimal;import java.math.BigInteger;import java.util.StringTokenizer; public class Main { 	public static void main(String[] args) {		InputReader in = new InputReader();		PrintWriter out = new PrintWriter(System.out); 		// Scanner cin = new Scanner(System.in);		int n, m;		n = in.nextInt();		m = in.nextInt();		int s, f, t;		for (int i = 0; i < n; ++i) {			s = in.nextInt();			f = in.nextInt();			t = in.nextInt();			if (s == f) {				out.println(t);			} else if (s < f) {				// int tmp = t;				int tmp = t / (2 * m - 2);				tmp *= (2 * m - 2);				if (tmp + s - 1 < t) {					tmp += (2 * m - 2);				}				tmp += (f - 1);				out.println(tmp);			} else {				int tmp = t / (2 * m - 2);				tmp *= (2 * m - 2);				tmp += (m - 1);				if (tmp + m - s < t) {					tmp += (2 * m - 2);				}				tmp += (m - f);				out.println(tmp);			}		}		out.close();	} } class InputReader {	BufferedReader buf;	StringTokenizer tok; 	InputReader() {		buf = new BufferedReader(new InputStreamReader(System.in));	} 	boolean hasNext() {		while (tok == null || !tok.hasMoreElements()) {			try {				tok = new StringTokenizer(buf.readLine());			} catch (Exception e) {				return false;			}		}		return true;	} 	String next() {		if (hasNext())			return tok.nextToken();		return null;	} 	int nextInt() {		return Integer.parseInt(next());	} 	long nextLong() {		return Long.parseLong(next());	} 	double nextDouble() {		return Double.parseDouble(next());	} 	BigInteger nextBigInteger() {		return new BigInteger(next());	} 	BigDecimal nextBigDecimal() {		return new BigDecimal(next());	}}     	 		  		 		    	 		    	
