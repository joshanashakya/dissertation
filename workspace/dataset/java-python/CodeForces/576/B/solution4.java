#define _USE_MATH_DEFINES #define _CRT_SECURE_NO_DEPRECATE #include <iostream> #include <cstdio> #include <cstdlib> #include <vector> #include <sstream> #include <string> #include <map> #include <set> #include <algorithm> #include <cmath> #include <cstring> #include <queue>#include <time.h>using namespace std; #define mp make_pair #define pb push_back #define all(C) (C).begin(), (C).end() #define sz(C) (int)(C).size() #define PRIME 123 #define PRIME1 31415 typedef long long int64; typedef unsigned long long uint64; typedef pair<int, int> pii; typedef vector<int> vi; typedef vector<vector<int> > vvi; //------------------------------------------------------------ #define y1 asdf#define y2 asdqwerconst int N = 1000010;  struct point{    int x, y, id;    bool operator < (const point oth) const    {        if (x < oth.x)            return true;        if (x == oth.x)        {            if (y < oth.y)                return true;        }        return false;    }}; vector < vector < point > > gr;int n, en, e; vi ans[100010];int mas[100010], was[100010];pii qq[100010];void solve(){    cin >> n;    for(int i = 1; i <= n; ++i)        cin >> mas[i];        for(int i = 1; i <= n; ++i)    {        if (was[mas[i]])            continue;        int t = mas[i];        while(!was[t])        {            was[t] = 1;            ans[en].push_back(t);            t = mas[t];        }        en++;    }    int q = 0, b = -1;    for(int i = 0; i < en; ++i)    {        if (ans[i].size() == 2)        {            b = i;        }        if (ans[i].size() == 1)        {            b = i;            q = 1;            break;        }    }    if (q)    {        cout << "YES\n";        for(int i = 1; i <= n; ++i)        {            if (i == ans[b][0])                continue;            cout << ans[b][0] << ' ' << i << endl;        }        return;    }    if (b == -1)    {        cout << "NO";        return;    }    for(int i = 0; i < en; ++i)    {        if (ans[i].size() & 1)        {            cout << "NO";            return;        }        if (i == b)            continue;        for(int j = 0; j < ans[i].size(); ++j)        {            qq[e++] = pii(ans[b][j & 1], ans[i][j]);        }    }    qq[e++] = pii(ans[b][0], ans[b][1]);    cout << "YES\n";    for(int i = 0; i < e; ++i)        cout << qq[i].first << ' ' << qq[i].second << endl;} int main(){    ios_base::sync_with_stdio(false);cin.tie(0);    #ifdef WIN32        freopen("input.txt", "r", stdin); freopen("output.txt", "w", stdout);    #endif      solve();    } 
