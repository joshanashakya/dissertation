   import java.io.*;import java.math.*;import java.security.*;import java.text.*;import java.util.*;import javafx.util.Pair; public  class CodeForce {static	BufferedReader br = new BufferedReader(new InputStreamReader(System.in));static StringBuilder sb = new StringBuilder(); 	static boolean flag = false;	 	static int next(String [] sr,int ind)	{		return Integer.parseInt(sr[ind]);	} 	public static void main(String[] args) throws IOException {		String[] sr=br.readLine().split(" ");		int n=next(sr,0);		int m=next(sr,1);				int[][] arr=new int[n][m];			for(int i=0;i<n;i++)			{sr=br.readLine().split(" ");						for(int j=0;j<m;j++)			{				arr[i][j]=next(sr,j);			}			}		long total=0l;		for(int i=0;i<n;i++)		{long count=0,count1=0;			for(int j=0;j<m;j++)			{				if(arr[i][j]==0)					count++;				else count1++;			}			total+=(long)Math.pow(2, count)-count-1;			total+=(long)Math.pow(2, count1)-count1-1;					}		for(int i=0;i<m;i++)		{long count=0,count1=0;			for(int j=0;j<n;j++)			{				if(arr[j][i]==0)					count++;				else count1++;			}			total+=(long)Math.pow(2, count)-count-1;			total+=(long)Math.pow(2, count1)-count1-1;					}		total+=n*m;		System.out.println(total); 	}	}      
