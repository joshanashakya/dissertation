n,m=map(int, input().split())lst = []rowzero = [0]*ncolzero = [0]*mrowone = [0]*ncolone = [0]*mfor i in range(n):    a = list(map(int, input().split()))    lst.append(a)    for j in range(m):        if a[j] == 1:            rowone[i]+=1            colone[j]+=1        else:            rowzero[i]+=1            colzero[j]+=1ans = 0for i in range(len(rowone)):    ans += pow(2,rowone[i])-1for i in range(len(rowzero)):    ans += pow(2,rowzero[i])-1for i in range(len(colone)):    ans += pow(2,colone[i])-1for i in range(len(colzero)):    ans += pow(2,colzero[i])-1print(ans-(n*m))
