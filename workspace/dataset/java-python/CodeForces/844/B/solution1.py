import math as mtimport sys, stringfrom collections import Counter, defaultdictinput = sys.stdin.readline MOD = 1000000007 I = lambda : int(input())M = lambda : map(int, input().split())Ms = lambda : map(str, input().split()) ARR = lambda : list(map(int, input().split())) def solve():	n,m = M()	mat = [ARR() for _ in range(n)] 	setLengths = []	for i in range(n):		black, white = 0, 0		for j in range(m):			if mat[i][j] == 0: black += 1			elif mat[i][j] == 1: white += 1		if white > 0: setLengths.append(white)		if black > 0: setLengths.append(black) 	for j in range(m):		black, white = 0, 0		for i in range(n):			if mat[i][j] == 0: black += 1			elif mat[i][j] == 1: white += 1		if white > 0: setLengths.append(white)		if black > 0: setLengths.append(black) 	ans = n*m	for e in setLengths:		ans += (1 << e)		ans -= (e+1)	print(ans)  tc = 1# tc = I()for _ in range(tc):	solve()
