n,m = map(int,input().split()) grid = []for i in range(n):    grid.append(list(map(int,input().split()))) ans = 0for i in range(n):    cnt0 = 0    cnt1 = 0    for j in range(m):        if grid[i][j] == 1:            cnt1 += 1        else:            cnt0 += 1    ans += 2 ** cnt0 - 1    ans += 2 ** cnt1 - 1for i in range(m):    cur = [grid[x][i] for x in range(n)]    cnt0 = 0    cnt1 = 0    for x in cur:        if x == 0: cnt0 += 1        else: cnt1 += 1    ans += 2 ** cnt0 - 1    ans += 2 ** cnt1 - 1print(ans - n * m)
