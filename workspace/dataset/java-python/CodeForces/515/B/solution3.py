def f(b,g):    change = i = j = 0    p = 1    while p or not(i==0 and j==0):        if boys[i]+girls[j]==1:            if boys[i]==0:                boys[i] = 1                change = 1            else:                girls[j] = 1                change = 1        i = (i+1)%n        j = (j+1)%m        p = 0    return changen,m = map(int,input().split())b,*x = list(map(int,input().split()))g,*y = list(map(int,input().split()))boys = [0]*ngirls = [0]*mchange = 1for i in x:    boys[i] = 1for i in y:    girls[i] = 1c = 0while f(b,g):    passif boys.count(1)+girls.count(1)==n+m:    print("Yes")else:    print("No")
