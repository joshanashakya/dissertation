import java.util.*;import java.io.*; public class  Bear_and_Compressing{	public static void main(String[] args) throws IOException 	{		BufferedReader br=new BufferedReader(new InputStreamReader(System.in));		PrintWriter pw=new PrintWriter(System.out); 		int t=1; 		while(t-->0)		{ 			String str[]=br.readLine().trim().split(" ");			int n=Integer.parseInt(str[0]);			int m=Integer.parseInt(str[1]); 			HashMap<String,ArrayList<String>> mp=new HashMap<>();			ArrayList<String> temp;			for(int i=0;i<m;i++)			{				str=br.readLine().trim().split(" "); 				if(mp.get(str[1])!=null)				{					temp=(ArrayList)mp.get(str[1]);					temp.add(str[0]);					mp.put(str[1],temp);				}				else				{					temp=new ArrayList<>();					temp.add(str[0]);					mp.put(str[1],temp);				}			} 			long ans=0;			LinkedList<String> q=new LinkedList<>();			LinkedList<String> p=new LinkedList<>();			q.add("a");			while(!q.isEmpty())			{				String x=q.poll();				int z=x.length();				if(z==n)				{					ans++;					//System.out.println(x);					continue;				}				if(z>n)					continue; 				String y=""+x.charAt(0);				temp=mp.getOrDefault(y,new ArrayList<String>());				y=x.substring(1);				for(String g:temp)				{					q.add(g+y);				} 				//System.out.println(q);			}			pw.println(ans);		}		pw.flush();	} 	}
