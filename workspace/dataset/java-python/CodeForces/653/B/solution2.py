from itertools import product  def bear_and_compressing():    n, q = input().split()    n, q = int(n), int(q)    o = []    j = []    for _ in range(q):        o.append(list(input()))    s = list(product('abcdef', repeat=n))    for i in s:        j.append(list(i))    for _ in range(n):        for i in j:            for x in o:                try:                    if i[0] == x[0] and i[1] == x[1]:                        i.pop(0)                        i[0] = x[3]                except IndexError:                    continue    count = j.count(['a'])    print(count)  if __name__ == '__main__':    bear_and_compressing()  
