//package com.pb.codeforces.practice; import java.util.ArrayList;import java.util.HashMap;import java.util.List;import java.util.Scanner; public class CF653B {		public static int dfs(int id, int n, List<String> ls, HashMap<Character,List<String>> qmap) {		if(id == n) return ls.size();		int cnt = 0;		for(String s : ls) {			if(qmap.containsKey(s.charAt(0)))				cnt += dfs(id+1,n,qmap.get(s.charAt(0)),qmap);		}		return cnt;	}		public static void main(String[] args) {		Scanner in = new Scanner(System.in);		int n = in.nextInt();		int q = in.nextInt();		HashMap<Character,List<String>> qmap = new HashMap<Character,List<String>>();		for(int i=0; i<q; i++) {			String s = in.next();			char ch = in.next().charAt(0);			if(!qmap.containsKey(ch))				qmap.put(ch, new ArrayList<>());			qmap.get(ch).add(s);		}		int ans = 0;		if(qmap.containsKey('a'))			ans = dfs(2,n,qmap.get('a'),qmap);		System.out.println(ans);	}}
