import java.io.*;import java.util.*; public class code {    public static void main(String[] args) throws IOException    {        BufferedReader bf=new BufferedReader(new InputStreamReader(System.in));         String[] in=bf.readLine().trim().split(" ");         int n=Integer.parseInt(in[0]);         int k=Integer.parseInt(in[1]);         in=bf.readLine().trim().split(" ");         int[] arr=new int[n];         int i=0;         HashMap<Integer,Integer> map=new HashMap();         for(i=0;i<n;i++)         {            arr[i]=Integer.parseInt(in[i]);            map.put(i,arr[i]);         }         List<Map.Entry<Integer,Integer>> list=new LinkedList(map.entrySet());         Collections.sort(list,new Comparator<Map.Entry<Integer,Integer>>()         {           public int compare(Map.Entry<Integer,Integer> m1,Map.Entry<Integer,Integer> m2)           {               return m2.getValue()-m1.getValue();           }         });         int[] brr=new int[k];         i=0;         int sum=0;         for(Map.Entry<Integer,Integer> mp:list)         {             brr[i++]=mp.getKey();             sum+=mp.getValue();             if(i==k)               break;         }         Arrays.sort(brr);             brr[k-1]=n-1;             int val=0;             System.out.println(sum);             for(i=0;i<brr.length;i++)             {                 int x=brr[i]-val+1;                 val=brr[i]+1;                 System.out.print(x+" ");              }                         }}
