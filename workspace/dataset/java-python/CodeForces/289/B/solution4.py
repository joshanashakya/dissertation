n, m, d = [int(e) for e in input().split(" ")]mat = []for _ in range(n):    mat.append([int(e) for e in input().split(" ")])r = mat[0][0] % da = []for i in range(n):    for j in range(m):        if mat[i][j] % d != r:            print(-1)            exit()        a.append(mat[i][j]) a.sort()m = len(a) // 2ans = 0for i in range(len(a)):    ans += abs(a[i] - a[m]) print(ans//d)    		 					  	     		       		 	
