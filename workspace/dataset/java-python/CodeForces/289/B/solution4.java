import java.util.ArrayList;import java.util.Arrays;import java.util.Collections;import java.util.Scanner;import java.lang.Math; public class Account {			public static void main (String[] args) {				Scanner sc= new Scanner(System.in) ;		int n= sc.nextInt() ;		int m= sc.nextInt() ;		int d= sc.nextInt() ;		int[] arr= new int[n*m] ;		boolean flag= true ;		int count= 0 ,sum= 0 ;		for(int i=0 ;i<(n*m) ;i++ ) {			arr[i]= sc.nextInt() ;			sum += arr[i] ;		}		if(m*n == 1) {			System.out.println("0");			return ;		}		Arrays.sort(arr);		int cmp= arr[(m*n)/2] ;		for(int i=0 ;i<(m*n) ;i++ ) {			if((cmp-arr[i])%d == 0) {				count += Math.abs(cmp-arr[i])/d ; 			}else {				flag = false ;				break ;			}		}		if(flag == false )			System.out.println("-1");		else 			System.out.println(count); 	}	}
