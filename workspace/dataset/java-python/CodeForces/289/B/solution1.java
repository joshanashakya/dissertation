import java.util.Arrays;import java.util.HashMap;import java.util.Map;import java.util.Scanner; public class Problem_289B {    public static void main(String[] args) {        Scanner s = new Scanner(System.in);        int rows = s.nextInt();        int cols = s.nextInt();         double d = s.nextDouble();         int[] nums = new int[rows * cols];        for(int i = 0; i < rows*cols; i++)            nums[i] = s.nextInt();         Arrays.sort(nums);        int median = nums.length % 2 == 0 ?                            (nums[nums.length/2 - 1]) :                            nums[nums.length / 2];         double moves = 0;        for(int i = 0; i < rows*cols; i++) {            if(nums[i] != median)                moves += Math.abs((nums[i] - median) / d);        }         if(moves == Math.ceil(moves))            System.out.println((int)moves);        else            System.out.println("-1");    }}
