import sys, string, heapqÂ arr = list(sys.stdin.readline().rstrip())n = len(arr)left = 0right = 2 * nwhile left < right:    mid = (left + right) // 2    res = {'[' : 9876543210, ':' : [9876543210, -1], ']' : -1}    can = False    for i in range(n):        if arr[i] == '[':            res[arr[i]] = min(res[arr[i]], i)        elif arr[i] == ']':            res[arr[i]] = max(res[arr[i]], i)    if res['['] != 9876543210 and res[']'] != -1:        for i in range(n):            if arr[i] == ':':                if res['['] < i < res[']']:                    res[':'][0] = min(res[':'][0], i)                    res[':'][1] = max(res[':'][1], i)        if res[':'][0] != res[':'][1]:            if res[':'][0] != 9876543210 and res[':'][1] != -1:                cnt = 0                for i in range(n):                    if arr[i] == '|' and res[':'][0] < i < res[':'][1]:                        cnt += 1                if cnt >= mid - 4:                    can = True    if can:        left = mid + 1    else:        right = midprint(right - 1)
