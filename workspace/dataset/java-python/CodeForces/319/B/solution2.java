import java.util.*;import java.io.*; public class Main {    public static void main(String[] args) throws IOException {        FastScanner in = new FastScanner(System.in);        PrintWriter out = new PrintWriter(System.out);        new Main().run(in, out);        out.close();    }     int N;    void run(FastScanner in, PrintWriter out) {         N = in.nextInt();          // [val, how long am i staying alive, how many have i eaten]        LinkedList<int[]> q = new LinkedList<>();        int max = 0;         for (int i = 0; i < N; i++) {            int v = in.nextInt();             // find someone to eat me            while (!q.isEmpty() && q.peekLast()[0] < v) {                q.pollLast();            }             if (q.isEmpty()) {                q.offerLast(new int[] {v, -1, 0});            } else {                int[] top = q.peekLast();                top[2]++;                max = Math.max(top[2], max);                if (top[2] == top[1]) q.pollLast();                q.offerLast(new int[] {v, top[2], 0});            }         }        out.println(max);    }     static class FastScanner {        BufferedReader br;        StringTokenizer st;         public FastScanner(InputStream in) {            br = new BufferedReader(new InputStreamReader(in));            st = null;        }         String next() {            while (st == null || !st.hasMoreElements()) {                try {                    st = new StringTokenizer(br.readLine());                } catch (IOException e) {                    e.printStackTrace();                }            }            return st.nextToken();        }         int nextInt() {            return Integer.parseInt(next());        }         long nextLong() {            return Long.parseLong(next());        }    }}
