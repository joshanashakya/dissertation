#!/usr/bin/env python3  n = int(input()) data = dict()data['void'] = 0 def parse(definition):    ampersands = definition.count('&')    asterisks = definition.count('*')    name = definition[ampersands:len(definition)-asterisks]    return (name, asterisks - ampersands)  for i in range(n):  line = input().strip().split()  if (line[0] == 'typeof'):    (name, nr) = parse(line[1])    if (name in data) and ((data[name] + nr) >= 0):      print("void%s" % ("*"*(data[name] + nr)))    else:      print("errtype")  else:    new_name = line[2]    (old_name, nr) = parse(line[1])    if (old_name in data):      data[new_name] = data[old_name] + nr      if (data[new_name] < 0):        data.pop(new_name)    else:      data.pop(new_name, None)
