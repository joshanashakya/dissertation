import java.util.Arrays;import java.util.Comparator;import java.util.Scanner; public class A176 {     public static void main(String[] args) {        Scanner in = new Scanner(System.in);        int N = in.nextInt();        int M = in.nextInt();        int K = in.nextInt();        int[][] buy = new int[N][M];        int[][] sell = new int[N][M];        int[][] amount = new int[N][M];        for (int n=0; n<N; n++) {            in.next(); // name            for (int m=0; m<M; m++) {                buy[n][m] = in.nextInt();                sell[n][m] = in.nextInt();                amount[n][m] = in.nextInt();            }        }        int max = 0;        for (int from=0; from<N; from++) {            for (int to=0; to<N; to++) {                Data[] data = new Data[M];                for (int m=0; m<M; m++) {                    Data d = new Data();                    d.amount = amount[from][m];                    d.profit = sell[to][m] - buy[from][m];                    data[m] = d;                }                Arrays.sort(data, new Comparator<Data>() {                    @Override                    public int compare(Data o1, Data o2) {                        return o2.profit - o1.profit;                    }                });                int current = 0;                int capacity = K;                for (Data d : data) {                    if (d.profit > 0) {                        int items = Math.min(d.amount, capacity);                        capacity -= items;                        current += d.profit*items;                    }                }                max = Math.max(max, current);            }        }        System.out.println(max);    }     static class Data {        int amount;        int profit;    } }
