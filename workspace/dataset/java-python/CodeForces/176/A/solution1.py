n, m, k = map(int, input().split()) planets = [] for i in range(n):    name = input()    planets.append([])    for j in range(m):        item = list(map(int, input().split()))        planets[-1].append(item)  res = float("-inf") from itertools import permutationsfor p1, p2 in permutations(planets, 2):    sis = sorted(range(m), key=lambda i :p2[i][1] - p1[i][0], reverse=True)     cl = k    t = 0    for i in sis:        if cl == 0 or p2[i][1] - p1[i][0] <= 0:            break        taken = min(cl, p1[i][2])        t += (p2[i][1] - p1[i][0]) * taken        cl -= taken    res = max(res, t) print(res)
