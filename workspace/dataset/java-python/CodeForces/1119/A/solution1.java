import java.io.*;import java.util.*;public class Main {		public static void main(String[] args) {		InputStream inputStream = System.in;		OutputStream outputStream = System.out;		InputReader in = new InputReader(inputStream);		PrintWriter out = new PrintWriter(outputStream);		TaskA solver = new TaskA();		solver.solve(in, out);		out.close();	}		static class TaskA{		public void solve(InputReader in, PrintWriter out) {			int n = in.nextInt();			int [] a = new int [n+1];			for(int i=1;i<=n;i++) a[i] = in.nextInt();			int ans = 0;			for(int i=1;i<=n;i++) {				if(a[i]!=a[n]) {					ans = n - i;					break;				}			}			for(int i=n;i>=1;i--) {				if(a[1]!=a[i]) {					if((i-1)>ans) ans = i - 1;					break;				}			}			out.println(ans);		}	}		static class InputReader{		public BufferedReader reader;		public StringTokenizer tokenizer;				public InputReader (InputStream stream) {			reader = new BufferedReader(new InputStreamReader(stream), 32768);			tokenizer = null;		}		public String next() {			while(tokenizer == null || !tokenizer.hasMoreElements()) {				try {					tokenizer = new StringTokenizer(reader.readLine());				}catch (IOException e) {					throw new RuntimeException (e);				}			}			return tokenizer.nextToken();		}		public int nextInt() {			return Integer.parseInt(next());		}	}}
