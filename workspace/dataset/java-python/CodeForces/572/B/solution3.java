import java.util.Arrays;import java.util.Collections;import java.util.Comparator;import java.util.HashMap;import java.util.Map;import java.util.Scanner;import java.util.TreeMap; public class orderBook { 	public static void main(String[] args) {		// TODO Auto-generated method stub		Scanner obj=new Scanner(System.in);		int n=obj.nextInt();		int s=obj.nextInt();		HashMap<Integer, Integer> map1=new HashMap<>();		HashMap<Integer, Integer> map2=new HashMap<>();		for(int i=0;i<n;i++)		{			char d=obj.next().charAt(0);			int p=obj.nextInt();			int q=obj.nextInt();			if(d=='S')			{				if(map1.containsKey(p))				{					map1.put(p,map1.get(p)+q);				}				else				{					map1.put(p,q);				}			}			if(d=='B')			{				if(map2.containsKey(p))				{					map2.put(p,map2.get(p)+q);				}				else				{					map2.put(p,q);				} 			}		}		int k=s;		Integer[] arr=map1.keySet().toArray(new Integer[map1.size()]);		Arrays.sort(arr);		int i=0;		if(s>=map1.size())				i=map1.size()-1;		else			i=s-1;		for(int j=i;j>=0;j--)			System.out.println("S "+arr[j]+" "+map1.get(arr[j]));		Map<Integer,Integer> map=new TreeMap<Integer,Integer>(Collections.reverseOrder());		map.putAll(map2);				for(Map.Entry<Integer, Integer> entry:map.entrySet())		{			if(k-->0)			{				System.out.println("B "+entry.getKey()+" "+entry.getValue());			}			else				break;		} 	} }
