import syst1, t2, t = map(int, input().split())u = 1n = int(input())if n == 0:    print(t1)    sys.exit()a = [int(i) for i in input().split()]mini = 10 ** 20ans = 0time = t1for x in a:    if x <= t2 - t:        if time - x + 1 < mini and x > 0:            mini = time - x + 1            if x - 1 > time:                ans = time            else:                ans = x - 1        time = t + max(time, x)if time > t2 - t:    print(ans)else:    print(time)
