"""practice mode"""n = int(input())m = float("inf")d = {"A": m, "B": m, "C": m, "AB": m, "BC": m, "AC": m, "ABC": m}ans = mfor i in range(n):    a, b = input().split()    a = int(a)    b = "".join(sorted(list(b)))    d[b] = min(d[b], a)# print(d)ans = min(ans, d["A"] + d["B"] + d["C"])ans = min(ans, d["AB"] + d["BC"])ans = min(ans, d["AC"] + d["BC"])ans = min(ans, d["AB"] + d["AC"])ans = min(ans, d["A"] + d["BC"])ans = min(ans, d["B"] + d["AC"])ans = min(ans, d["C"] + d["AB"])ans = min(ans, d["ABC"])if ans == m:    print(-1)else:    print(ans)
