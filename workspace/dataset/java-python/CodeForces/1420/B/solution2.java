import java.util.*;import java.math.*;public class RockAndLever{	public static void main(String[] args)		{			Scanner sc = new Scanner(System.in);			int runs = sc.nextInt();			while(runs-->0)			{				int size = sc.nextInt();				long[] arr = new long[33];				for(int i = 0;i<size;i++)				{					arr[Integer.numberOfLeadingZeros(sc.nextInt())]++;				}				long out = 0;				for(int i = 1;i<33;i++)				{					out+=arr[i]*(arr[i]-1)/2;				}				System.out.println(out);							}		}}
